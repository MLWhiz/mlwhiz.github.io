<!doctype html><html lang=en-us><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-F34XSWQ5N4"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-F34XSWQ5N4')</script><meta charset=utf-8><title>Stop Worrying and Create your Deep Learning Server in 30 minutes - MLWhiz</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="In this blog, I will try to set up a deep learning server on EC2 with minimal effort so that I could focus on more important things"><meta name=author content="Rahul Agarwal"><meta name=generator content="Hugo 0.82.0"><link rel=stylesheet href=https://mlwhiz.com/plugins/compressjscss/main.css><meta property="og:title" content="Stop Worrying and Create your Deep Learning Server in 30 minutes - MLWhiz"><meta property="og:description" content="In this blog, I will try to set up a deep learning server on EC2 with minimal effort so that I could focus on more important things"><meta property="og:type" content="article"><meta property="og:url" content="https://mlwhiz.com/blog/2020/05/25/dls/"><meta property="og:image" content="https://mlwhiz.com/images/dls/main.png"><meta property="og:image:secure_url" content="https://mlwhiz.com/images/dls/main.png"><meta property="article:published_time" content="2020-05-25T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-13T22:36:49+01:00"><meta property="article:tag" content="Deep Learning"><meta name=twitter:card content="summary"><meta name=twitter:image content="https://mlwhiz.com/images/dls/main.png"><meta name=twitter:title content="Stop Worrying and Create your Deep Learning Server in 30 minutes - MLWhiz"><meta name=twitter:description content="In this blog, I will try to set up a deep learning server on EC2 with minimal effort so that I could focus on more important things"><meta name=twitter:site content="@mlwhiz"><meta name=twitter:creator content="@mlwhiz"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href=https://mlwhiz.com/scss/style.min.css media=screen><link rel=stylesheet href=/css/style.css><link rel=stylesheet type=text/css href=/css/font/flaticon.css><link rel="shortcut icon" href=https://mlwhiz.com/images/logos/favicon-32x32.png type=image/x-icon><link rel=icon href=https://mlwhiz.com/images/logos/favicon.ico type=image/x-icon><link rel=canonical href=https://mlwhiz.com/blog/2020/05/25/dls/><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://www.mlwhiz.com/#website","url":"https://www.mlwhiz.com/","name":"MLWhiz","description":"Want to Learn Computer Vision and NLP? - MLWhiz","potentialAction":{"@type":"SearchAction","target":"https://www.mlwhiz.com/search?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"ImageObject","@id":"https://mlwhiz.com/blog/2020/05/25/dls/#primaryimage","url":"https://mlwhiz.com/images/dls/main.png","width":700,"height":450},{"@type":"WebPage","@id":"https://mlwhiz.com/blog/2020/05/25/dls/#webpage","url":"https://mlwhiz.com/blog/2020/05/25/dls/","inLanguage":"en-US","name":"Stop Worrying and Create your Deep Learning Server in 30 minutes - MLWhiz","isPartOf":{"@id":"https://www.mlwhiz.com/#website"},"primaryImageOfPage":{"@id":"https://mlwhiz.com/blog/2020/05/25/dls/#primaryimage"},"datePublished":"2020-05-25T00:00:00.00Z","dateModified":"2023-08-13T22:36:49.00Z","author":{"@id":"https://mlwhiz.com/about/#/schema/person/76376876bchxkzbchjsdjcca"},"description":"In this blog, I will try to set up a deep learning server on EC2 with minimal effort so that I could focus on more important things"},{"@type":["Person"],"@id":"https://mlwhiz.com/about/#/schema/person/76376876bchxkzbchjsdjcca","name":"Rahul Agarwal","image":{"@type":"ImageObject","@id":"https://www.mlwhiz.com/#authorlogo","url":"https://mlwhiz.com/images/author.jpg","caption":"Rahul Agarwal"},"description":"Hi there, I\u2019m Rahul Agarwal. I\u2019m a data scientist consultant and big data engineer based in Bangalore. I see a lot of times  students and even professionals wasting their time and struggling to get started with Computer Vision, Deep Learning, and NLP. I Started this Site with a purpose to augment my own understanding about new things while helping others learn about them in the best possible way.","sameAs":["https://www.linkedin.com/in/rahulagwl/","https://medium.com/@rahul_agarwal","https://twitter.com/MLWhiz","https://www.facebook.com/mlwhizblog","https://github.com/MLWhiz","https://www.instagram.com/itsmlwhiz"]}]}</script><script async data-uid=a0ebaf958d src=https://mlwhiz.ck.page/a0ebaf958d/index.js></script><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$']],processEscapes:!0,processEnvironments:!0,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var b=MathJax.Hub.getAllJax(),a;for(a=0;a<b.length;a+=1)b[a].SourceElement().parentNode.className+=' has-jax'}),MathJax.Hub.Config({TeX:{equationNumbers:{autoNumber:"AMS"}}})</script><link href=//apps.shareaholic.com/assets/pub/shareaholic.js as=script><script type=text/javascript data-cfasync=false async src=//apps.shareaholic.com/assets/pub/shareaholic.js data-shr-siteid=fd1ffa7fd7152e4e20568fbe49a489d0></script><script>!function(b,e,f,g,a,c,d){if(b.fbq)return;a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version='2.0',a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js'),fbq('init','402633927768628'),fbq('track','PageView')</script><noscript><img height=1 width=1 style=display:none src="https://www.facebook.com/tr?id=402633927768628&ev=PageView&noscript=1"></noscript><meta property="fb:pages" content="213104036293742"><meta name=facebook-domain-verification content="qciidcy7mm137sewruizlvh8zbfnv4"></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMQD44T" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div class=preloader></div><header class=navigation><div class=container><nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0"><a class="navbar-brand mobile-view" href=https://mlwhiz.com/><img class=img-fluid src=https://mlwhiz.com/images/logos/logo.svg alt="MLWhiz - Your Home for DS, ML, AI!"></a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class="ti-menu h3"></i></button><div class="collapse navbar-collapse text-center" id=navigation><div class=desktop-view><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href="https://linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=rahulagwl"><i class=ti-linkedin></i></a></li><li class=nav-item><a class=nav-link href=https://mlwhiz.medium.com/><i class=ti-book></i></a></li><li class=nav-item><a class=nav-link href=https://twitter.com/MLWhiz><i class=ti-twitter-alt></i></a></li><li class=nav-item><a class=nav-link href=https://www.facebook.com/mlwhizblog><i class=ti-facebook></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/MLWhiz><i class=ti-github></i></a></li></ul></div><a class="navbar-brand mx-auto desktop-view" href=https://mlwhiz.com/><img class=img-fluid-custom src=https://mlwhiz.com/images/logos/logo.svg alt="MLWhiz - Your Home for DS, ML, AI!"></a><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://mlwhiz.com/about>About</a></li><li class=nav-item><a class=nav-link href=https://mlwhiz.com/blog>Blog</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Topics</a><div class=dropdown-menu><a class=dropdown-item href=https://mlwhiz.com/categories/natural-language-processing>NLP</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/computer-vision>Computer Vision</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/deep-learning>Deep Learning</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/data-science>DS/ML</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/big-data>Big Data</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/awesome-guides>My Best Content</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/learning-resources>Learning Resources</a></div></li></ul><div class="search pl-lg-4"><button id=searchOpen class=search-btn><i class=ti-search></i></button><div class=search-wrapper><form action=https://mlwhiz.com//search class=h-100><input class="search-box px-4" id=search-query name=s type=search placeholder="Type & Hit Enter..."></form><button id=searchClose class=search-close><i class="ti-close text-dark"></i></button></div></div></div></nav></div></header><section class=section-sm><div class=container><div class=row><div class="col-lg-8 mb-5 mb-lg-0"><a href=/categories/deep-learning class=categoryStyle>Deep Learning</a><h1>Stop Worrying and Create your Deep Learning Server in 30 minutes</h1><div class="mb-3 post-meta"><span>By Rahul Agarwal</span><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
<span>25 May 2020</span></div><img src=https://mlwhiz.com/images/dls/main.png class="img-fluid w-100 mb-4" alt="Stop Worrying and Create your Deep Learning Server in 30 minutes"><div class="content mb-5"><p>I have found myself creating a Deep Learning Machine time and time again whenever I start a new project.</p><p>You start with installing Anaconda and end up creating different environments for Pytorch and Tensorflow, so they don’t interfere. And in the middle of it, you inevitably end up messing up and starting from scratch. And this often happens multiple times.</p><p>It is not just a massive waste of time; it is also mighty(trying to avoid profanity here) irritating. Going through all those Stack Overflow threads. Often wondering what has gone wrong.</p><p>So is there a way to do this more efficiently?</p><p>It turns out there is. <em><strong>In this blog, I will try to set up a deep learning server on EC2 with minimal effort so that I could focus on more important things.</strong></em></p><p><em>This blog consists explicitly of two parts:</em></p><ol><li><p><em>Setting up an Amazon EC2 Machine with preinstalled deep learning libraries.</em></p></li><li><p><em>Setting Up Jupyter Notebook using TMUX and SSH tunneling.</em></p></li></ol><p><em>Don’t worry; it’s not as difficult as it sounds. Just follow the steps and click Next.</em></p><hr><h2 id=setting-up-amazon-ec2-machine>Setting up Amazon EC2 Machine</h2><p>I am assuming that you have an AWS account, and you have access to the
<a href=https://aws.amazon.com/console/ target=_blank rel="nofollow noopener">AWS Console</a>
. If not, you might need to sign up for an Amazon AWS account.</p><ul><li>First of all, we need to go to the Services tab to access the EC2 dashboard.</li></ul><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/1_hufd6286707548c80a6410688aacc10d26_60845_500x0_resize_box_2.png 500w
, /images/dls/1_hufd6286707548c80a6410688aacc10d26_60845_800x0_resize_box_2.png 800w" src=/images/dls/1.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><ul><li>On the EC2 Dashboard, you can start by creating your instance.</li></ul><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/2_hudeea71c7ce9cd8f19be2510f707dd897_20580_500x0_resize_box_2.png 500w
, /images/dls/2_hudeea71c7ce9cd8f19be2510f707dd897_20580_800x0_resize_box_2.png 800w" src=/images/dls/2.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><ul><li>Amazon provides Community AMIs(Amazon Machine Image) with Deep Learning software preinstalled. To access these AMIs, you need to look in the community AMIs and search for “Ubuntu Deep Learning” in the Search Tab. You can choose any other Linux flavor, but I have found Ubuntu to be most useful for my Deep Learning needs. In the present setup, I will use The Deep Learning AMI (Ubuntu 18.04) Version 27.0</li></ul><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/3_hu2e50fd6d04cddc720b9acbebd7092ebb_223145_500x0_resize_box_2.png 500w
, /images/dls/3_hu2e50fd6d04cddc720b9acbebd7092ebb_223145_800x0_resize_box_2.png 800w
, /images/dls/3_hu2e50fd6d04cddc720b9acbebd7092ebb_223145_1200x0_resize_box_2.png 1200w
, /images/dls/3_hu2e50fd6d04cddc720b9acbebd7092ebb_223145_1500x0_resize_box_2.png 1500w" src=/images/dls/3.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><ul><li>Once you select an AMI, you can select the Instance Type. It is here you specify the number of CPUs, Memory, and GPUs you will require in your system. Amazon provides a lot of options to choose from based on one’s individual needs. You can filter for GPU instances using the “Filter by” filter.</li></ul><p>In this tutorial, I have gone with p2.xlarge instance, which provides NVIDIA K80 GPU with 2,496 parallel processing cores and 12GiB of GPU memory. To know about different instance types, you can look at the
<a href=https://aws.amazon.com/ec2/instance-types/ target=_blank rel="nofollow noopener">documentation</a>
here and the pricing
<a href=https://aws.amazon.com/emr/pricing/ target=_blank rel="nofollow noopener">here</a>
.</p><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/4_huaf499586621e9ae4aa045f4822754fc7_260621_500x0_resize_box_2.png 500w
, /images/dls/4_huaf499586621e9ae4aa045f4822754fc7_260621_800x0_resize_box_2.png 800w
, /images/dls/4_huaf499586621e9ae4aa045f4822754fc7_260621_1200x0_resize_box_2.png 1200w
, /images/dls/4_huaf499586621e9ae4aa045f4822754fc7_260621_1500x0_resize_box_2.png 1500w" src=/images/dls/4.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><ul><li>You can change the storage that is attached to the machine in the 4th step. It is okay if you don’t add storage upfront, as you can also do this later. I change the storage from 90 GB to 500 GB as most of the deep learning needs will require proper storage.</li></ul><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/5_hucccb5581afdeb3d0867d24f5593a9450_75663_500x0_resize_box_2.png 500w
, /images/dls/5_hucccb5581afdeb3d0867d24f5593a9450_75663_800x0_resize_box_2.png 800w
, /images/dls/5_hucccb5581afdeb3d0867d24f5593a9450_75663_1200x0_resize_box_2.png 1200w
, /images/dls/5_hucccb5581afdeb3d0867d24f5593a9450_75663_1500x0_resize_box_2.png 1500w" src=/images/dls/5.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><ul><li>That’s all, and you can Launch the Instance after going to the Final Review instance settings Screen. Once you click on Launch, you will see this screen. Just type in any key name in the Key Pair Name and click on “Download key pair”. Your key will be downloaded to your machine by the name you provided. For me, it got saved as “aws_key.pem”. Once you do that, you can click on “Launch Instances”.</li></ul><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/6_hu29c3a671b66a5c00f4e2606d442471c1_100877_500x0_resize_box_2.png 500w
, /images/dls/6_hu29c3a671b66a5c00f4e2606d442471c1_100877_800x0_resize_box_2.png 800w" src=/images/dls/6.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>Keep this key pair safe as this will be required whenever you want to login to your instance.</p><ul><li>You can now click on “View Instances” on the next page to see your instance. This is how your instance will look like:</li></ul><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/7_hu5f376a9f71eb439d4e80dc9f2fdf84da_156560_500x0_resize_box_2.png 500w
, /images/dls/7_hu5f376a9f71eb439d4e80dc9f2fdf84da_156560_800x0_resize_box_2.png 800w
, /images/dls/7_hu5f376a9f71eb439d4e80dc9f2fdf84da_156560_1200x0_resize_box_2.png 1200w
, /images/dls/7_hu5f376a9f71eb439d4e80dc9f2fdf84da_156560_1500x0_resize_box_2.png 1500w" src=/images/dls/7.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><ul><li><p>To connect to your instance, Just open a terminal window in your Local machine and browse to the folder where you have kept your key pair file and modify some permissions.</p><p>chmod 400 aws_key.pem</p></li></ul><p>Once you do that, you will be able to connect to your instance by SSHing. The SSH command will be of the form:</p><pre><code>ssh -i &quot;aws_key.pem&quot; ubuntu@&lt;Your PublicDNS(IPv4)&gt;
</code></pre><p>For me, the command was:</p><pre><code>ssh -i &quot;aws_key.pem&quot; ubuntu@ec2-54-202-223-197.us-west-2.compute.amazonaws.com
</code></pre><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/8_hud1fb0ee5ab008a0a78752713965f0388_80967_500x0_resize_box_2.png 500w
, /images/dls/8_hud1fb0ee5ab008a0a78752713965f0388_80967_800x0_resize_box_2.png 800w
, /images/dls/8_hud1fb0ee5ab008a0a78752713965f0388_80967_1200x0_resize_box_2.png 1200w" src=/images/dls/8.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>Also, keep in mind that the Public DNS might change once you shut down your instance.</p><ul><li>You have already got your machine up and ready. This machine contains different environments that have various libraries you might need. This particular machine has MXNet, Tensorflow, and Pytorch with different versions of python. And the best thing is that we get all this preinstalled, so it just works out of the box.</li></ul><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/9_huf418e97d47d80765ff35c4df6aff2245_228218_500x0_resize_box_2.png 500w
, /images/dls/9_huf418e97d47d80765ff35c4df6aff2245_228218_800x0_resize_box_2.png 800w
, /images/dls/9_huf418e97d47d80765ff35c4df6aff2245_228218_1200x0_resize_box_2.png 1200w" src=/images/dls/9.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><hr><h2 id=setting-up-jupyter-notebook>Setting Up Jupyter Notebook</h2><p>But there are still a few things you will require to use your machine fully. One of them being Jupyter Notebooks. To set up Jupyter Notebooks with your Machine, I recommend using TMUX and tunneling. Let us go through setting up the Jupyter notebook step by step.</p><h3 id=1-using-tmux-to-run-jupyter-notebook>1. Using TMUX to run Jupyter Notebook</h3><p>We will first use TMUX to run the Jupyter notebook on our instance. We mainly use this so that our notebook still runs even if the terminal connection gets lost.</p><p>To do this, you will need to create a new TMUX session using:</p><pre><code>tmux new -s StreamSession
</code></pre><p>Once you do that, you will see a new screen with a green border at the bottom. You can start your Jupyter Notebook in this machine using the usual jupyter notebook command. You will see something like:</p><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/10_hub54bcf89d51c2c236ef081c1353a474d_189640_500x0_resize_box_2.png 500w
, /images/dls/10_hub54bcf89d51c2c236ef081c1353a474d_189640_800x0_resize_box_2.png 800w
, /images/dls/10_hub54bcf89d51c2c236ef081c1353a474d_189640_1200x0_resize_box_2.png 1200w" src=/images/dls/10.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>It will be beneficial to copy the login URL so that we will be able to get the token later when we try to login to our jupyter notebook later. In my case, it is:</p><pre><code>[http://localhost:8888/?token=5ccd01f60971d9fc97fd79f64a5bb4ce79f4d96823ab7872](http://localhost:8888/?token=5ccd01f60971d9fc97fd79f64a5bb4ce79f4d96823ab7872&amp;token=5ccd01f60971d9fc97fd79f64a5bb4ce79f4d96823ab7872)
</code></pre><p>The <em><strong>next step is to detach our TMUX session</strong></em> so that it continues running in the background even when you leave the SSH shell. To do this just press Ctrl+B and then D (Don’t press Ctrl when pressing D)You will come back to the initial screen with the message that you have detached from your TMUX session.</p><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/11_hua7b06b21e2bbaabf85b0faf68be1f5bf_23250_500x0_resize_box_2.png 500w" src=/images/dls/11.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>If you want, you can reattach to the session again using:</p><pre><code>tmux attach -t StreamSession
</code></pre><h3 id=2-ssh-tunneling-to-access-the-notebook-on-your-local-browser>2. SSH Tunneling to access the notebook on your Local Browser</h3><p>The second step is to tunnel into the Amazon instance to be able to get the Jupyter notebook on your Local Browser. As we can see, the Jupyter Notebook is actually running on the localhost on the Cloud instance. How do we access it? We use SSH tunneling. Worry not, it is straightforward fill in the blanks. Just use this command on your local machine terminal window:</p><pre><code>ssh -i &quot;aws_key.pem&quot; -L &lt;Local Machine Port&gt;:localhost:8888 [ubuntu@](mailto:ubuntu@ec2-34-212-131-240.us-west-2.compute.amazonaws.com)&lt;Your PublicDNS(IPv4)&gt;
</code></pre><p>For this case, I have used:</p><pre><code>ssh -i &quot;aws_key.pem&quot; -L 8001:localhost:8888 [ubuntu@](mailto:ubuntu@ec2-34-212-131-240.us-west-2.compute.amazonaws.com)ec2-54-202-223-197.us-west-2.compute.amazonaws.com
</code></pre><p>This means that I will be able to use the Jupyter Notebook If I open the localhost:8001 in my local machine browser. And I surely can. We can now just input the token that we already have saved in one of our previous steps to access the notebook. For me the token is
<a href="http://localhost:8888/?token=5ccd01f60971d9fc97fd79f64a5bb4ce79f4d96823ab7872&token=5ccd01f60971d9fc97fd79f64a5bb4ce79f4d96823ab7872" target=_blank rel="nofollow noopener">5ccd01f60971d9fc97fd79f64a5bb4ce79f4d96823ab7872</a></p><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/12_hu8401ee1d01f8f1cf98088dd46c0521c7_130352_500x0_resize_box_2.png 500w
, /images/dls/12_hu8401ee1d01f8f1cf98088dd46c0521c7_130352_800x0_resize_box_2.png 800w" src=/images/dls/12.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>You can just login using your token and voila we get the notebook in all its glory.</p><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/13_hu7126fc3eea17cef41882ccbe63e78961_69259_500x0_resize_box_2.png 500w
, /images/dls/13_hu7126fc3eea17cef41882ccbe63e78961_69259_800x0_resize_box_2.png 800w
, /images/dls/13_hu7126fc3eea17cef41882ccbe63e78961_69259_1200x0_resize_box_2.png 1200w
, /images/dls/13_hu7126fc3eea17cef41882ccbe63e78961_69259_1500x0_resize_box_2.png 1500w" src=/images/dls/13.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>You can now choose to work on a new project by selecting any of the different environments you want. You can come from Tensorflow or Pytorch or might be willing to get the best of both worlds. This notebook will not disappoint you.</p><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/14_hua1cf5215ee821c33575ef5decca05668_148122_500x0_resize_box_2.png 500w
, /images/dls/14_hua1cf5215ee821c33575ef5decca05668_148122_800x0_resize_box_2.png 800w
, /images/dls/14_hua1cf5215ee821c33575ef5decca05668_148122_1200x0_resize_box_2.png 1200w
, /images/dls/14_hua1cf5215ee821c33575ef5decca05668_148122_1500x0_resize_box_2.png 1500w" src=/images/dls/14.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><hr><h2 id=troubleshooting>Troubleshooting</h2><p>It might happen that once the machine is restarted, you face some problems with the NVIDIA graphics card. Specifically, in my case, the nvidia-smi command stopped working. If you encounter this problem, the solution is to download the graphics driver from the NVIDIA
<a href="https://www.nvidia.in/Download/index.aspx?lang=en-in" target=_blank rel="nofollow noopener">website</a>
.</p><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/15_hubf39a0186ad89eb2b82428498f485bc3_54499_500x0_resize_box_2.png 500w
, /images/dls/15_hubf39a0186ad89eb2b82428498f485bc3_54499_800x0_resize_box_2.png 800w" src=/images/dls/15.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>Above are the settings for the particular AMI I selected. Once you click on Search you will be able to see the next page:</p><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/16_hue60827ec69abff79026c1d49fd829e45_37345_500x0_resize_box_2.png 500w
, /images/dls/16_hue60827ec69abff79026c1d49fd829e45_37345_800x0_resize_box_2.png 800w" src=/images/dls/16.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>Just copy the download link by right-clicking and copying the link address. And run the following commands on your machine. You might need to change the link address and the file name in this.</p><pre><code># When nvidia-smi doesnt work:

wget [https://www.nvidia.in/content/DriverDownload-March2009/confirmation.php?url=/tesla/410.129/NVIDIA-Linux-x86_64-410.129-diagnostic.run&amp;lang=in&amp;type=Tesla](https://www.nvidia.in/content/DriverDownload-March2009/confirmation.php?url=/tesla/410.129/NVIDIA-Linux-x86_64-410.129-diagnostic.run&amp;lang=in&amp;type=Tesla)

sudo sh NVIDIA-Linux-x86_64-410.129-diagnostic.run --no-drm --disable-nouveau --dkms --silent --install-libglvnd

modinfo nvidia | head -7

sudo modprobe nvidia
</code></pre><hr><h2 id=stop-your-instance>Stop Your Instance</h2><p>And that’s it. You have got and up and running Deep Learning machine at your disposal, and you can work with it as much as you want. Just keep in mind to stop the instance whenever you stop working, so you won’t need to pay Amazon when you are not working on your instance. You can do it on the instances page by right-clicking on your instance. Just note that when you need to log in again to this machine, you will need to get the Public DNS (IPv4) address from the instance page back as it might have changed.</p><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/dls/17_hua8f55d18c78255c28095b494cfdd36fb_77233_500x0_resize_box_2.png 500w
, /images/dls/17_hua8f55d18c78255c28095b494cfdd36fb_77233_800x0_resize_box_2.png 800w
, /images/dls/17_hua8f55d18c78255c28095b494cfdd36fb_77233_1200x0_resize_box_2.png 1200w" src=/images/dls/17.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><hr><h2 id=conclusion>Conclusion</h2><p>I have always found it a big chore to set up a deep learning environment.</p><p>In this blog, we set up a new Deep Learning server on EC2 in minimal time by using Deep Learning Community AMI, TMUX, and Tunneling for the Jupyter Notebooks. This server comes preinstalled with all the deep learning libraries you might need at your work, and it just works out of the box.</p><p>So what are you waiting for? Just get started with Deep Learning with your own server.</p><p>If you want to learn more about AWS and how to use it in production settings and deploying models, I would like to call out an excellent
<a href=https://coursera.pxf.io/e45BJ6 target=_blank rel="nofollow noopener">course on AWS</a>
. Do check it out.</p><p>Thanks for the read. I am going to be writing more beginner-friendly posts in the future too. Follow me up at
<a href="https://mlwhiz.medium.com/?source=post_page---------------------------" target=_blank rel="nofollow noopener">Medium</a>
or Subscribe to my
<a href=https://mlwhiz.ck.page/a9b8bda70c target=_blank rel="nofollow noopener">blog</a></p><p>Also, a small disclaimer — There might be some affiliate links in this post to relevant resources, as sharing knowledge is never a bad idea.</p><script async data-uid=8d7942551b src=https://mlwhiz.ck.page/8d7942551b/index.js></script><div class=shareaholic-canvas data-app=share_buttons data-app-id=28372088 style=margin-bottom:1px></div><a href=https://coursera.pxf.io/coursera rel=nofollow><img border=0 alt="Start your future with a Data Analysis Certificate." src="https://ad.linksynergy.com/fs-bin/show?id=lVarvwc5BD0&bids=759505.377&subid=0&type=4&gridnum=16"></a><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//mlwhiz.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div class=col-lg-4><div class=widget><script type=text/javascript src=https://ko-fi.com/widgets/widget_2.js></script><script type=text/javascript>kofiwidget2.init('Support Me on Ko-fi','#972EB4','S6S3NPCD'),kofiwidget2.draw()</script></div><div class=widget><h4 class=widget-title>About Me</h4><img src=https://mlwhiz.com/images/author.jpg alt class="img-fluid author-thumb-sm d-block mx-auto rounded-circle mb-4"><p>I’m a Machine Learning Engineer based in London, where I am currently working with Roku .</p><a href=https://mlwhiz.com/about/ class="btn btn-outline-primary">Know More</a></div><div class=widget><h4 class=widget-title>Topics</h4><ul class=list-unstyled><li><a class="categoryStyle text-white" href=/categories/awesome-guides>Awesome Guides</a></li><li><a class="categoryStyle text-white" href=/categories/bash>Bash</a></li><li><a class="categoryStyle text-white" href=/categories/big-data>Big Data</a></li><li><a class="categoryStyle text-white" href=/categories/chatgpt-series>Chatgpt Series</a></li><li><a class="categoryStyle text-white" href=/categories/computer-vision>Computer Vision</a></li><li><a class="categoryStyle text-white" href=/categories/data-science>Data Science</a></li><li><a class="categoryStyle text-white" href=/categories/deep-learning>Deep Learning</a></li><li><a class="categoryStyle text-white" href=/categories/learning-resources>Learning Resources</a></li><li><a class="categoryStyle text-white" href=/categories/machine-learning>Machine Learning</a></li><li><a class="categoryStyle text-white" href=/categories/natural-language-processing>Natural Language Processing</a></li><li><a class="categoryStyle text-white" href=/categories/opinion>Opinion</a></li><li><a class="categoryStyle text-white" href=/categories/programming>Programming</a></li></ul></div><div class=widget><h4 class=widget-title>Tags</h4><ul class=list-inline><li class=list-inline-item><a class="tagStyle text-white" href=/tags/algorithms>Algorithms</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/artificial-intelligence>Artificial Intelligence</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/chatgpt>Chatgpt</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/dask>Dask</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/deployment>Deployment</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/ec2>Ec2</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/generative-adversarial-networks>Generative Adversarial Networks</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/graphs>Graphs</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/image-classification>Image Classification</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/instance-segmentation>Instance Segmentation</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/interpretability>Interpretability</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/jobs>Jobs</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/kaggle>Kaggle</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/language-modeling>Language Modeling</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/machine-learning>Machine Learning</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/math>Math</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/multiprocessing>Multiprocessing</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/object-detection>Object Detection</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/oop>Oop</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/opinion>Opinion</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/pandas>Pandas</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/production>Production</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/productivity>Productivity</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/python>Python</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/pytorch>Pytorch</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/spark>Spark</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/sql>SQL</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/statistics>Statistics</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/streamlit>Streamlit</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/text-classification>Text Classification</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/timeseries>Timeseries</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/tools>Tools</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/transformers>Transformers</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/translation>Translation</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/visualization>Visualization</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/xgboost>Xgboost</a></li></ul></div><div class=widget><h4 class=widget-title>Connect With Me</h4><ul class="list-inline social-links"><li class=list-inline-item><a href="https://linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=rahulagwl"><i class=ti-linkedin></i></a></li><li class=list-inline-item><a href=https://mlwhiz.medium.com/><i class=ti-book></i></a></li><li class=list-inline-item><a href=https://twitter.com/MLWhiz><i class=ti-twitter-alt></i></a></li><li class=list-inline-item><a href=https://www.facebook.com/mlwhizblog><i class=ti-facebook></i></a></li><li class=list-inline-item><a href=https://github.com/MLWhiz><i class=ti-github></i></a></li></ul></div><script async data-uid=bfe9f82f10 src=https://mlwhiz.ck.page/bfe9f82f10/index.js></script><script async data-uid=3452d924e2 src=https://mlwhiz.ck.page/3452d924e2/index.js></script></div></div></div></section><footer><div class=container><div class=row><div class="col-12 text-center mb-5"><a href=https://mlwhiz.com/><img src=https://mlwhiz.com/images/logos/mlwhiz_black.png class=img-fluid-custom-bottom alt="MLWhiz - Your Home for DS, ML, AI!"></a></div><div class="col-12 border-top py-4 text-center">Copyright © 2020 <a href=https://mlwhiz.com style=color:#972eb4>MLWhiz</a> All Rights Reserved</div></div></div></footer><script>var indexURL="https://mlwhiz.com/index.json"</script><script src=https://mlwhiz.com/plugins/compressjscss/main.js></script><script src=https://mlwhiz.com/js/script.min.js></script><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-54777926-1','auto'),ga('send','pageview')</script></body></html>