<!doctype html><html lang=en-us><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-F34XSWQ5N4"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-F34XSWQ5N4')</script><meta charset=utf-8><title>Everything Programmers need to learn about GPT — Using OpenAI and Understanding Prompting - MLWhiz</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="Want to Learn Computer Vision and NLP? - MLWhiz"><meta name=author content="Rahul Agarwal"><meta name=generator content="Hugo 0.82.0"><link rel=stylesheet href=https://mlwhiz.com/plugins/compressjscss/main.css><meta property="og:title" content="Everything Programmers need to learn about GPT — Using OpenAI and Understanding Prompting - MLWhiz"><meta property="og:description" content="ChatGPT&rsquo;s free conversational interface offers a tantalizing glimpse into the future of AI."><meta property="og:type" content="article"><meta property="og:url" content="https://mlwhiz.com/blog/2023/08/13/openai-api/"><meta property="og:image" content="https://mlwhiz.com/images/openai-api/main.png"><meta property="og:image:secure_url" content="https://mlwhiz.com/images/openai-api/main.png"><meta property="article:published_time" content="2023-08-13T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-13T22:35:47+01:00"><meta property="article:tag" content="Deep Learning"><meta property="article:tag" content="Natural Language Processing"><meta property="article:tag" content="Awesome Guides"><meta property="article:tag" content="ChatGPT Series"><meta name=twitter:card content="summary"><meta name=twitter:image content="https://mlwhiz.com/images/openai-api/main.png"><meta name=twitter:title content="Everything Programmers need to learn about GPT — Using OpenAI and Understanding Prompting - MLWhiz"><meta name=twitter:description content="ChatGPT&rsquo;s free conversational interface offers a tantalizing glimpse into the future of AI."><meta name=twitter:site content="@mlwhiz"><meta name=twitter:creator content="@mlwhiz"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href=https://mlwhiz.com/scss/style.min.css media=screen><link rel=stylesheet href=/css/style.css><link rel=stylesheet type=text/css href=/css/font/flaticon.css><link rel="shortcut icon" href=https://mlwhiz.com/images/logos/favicon-32x32.png type=image/x-icon><link rel=icon href=https://mlwhiz.com/images/logos/favicon.ico type=image/x-icon><link rel=canonical href=https://mlwhiz.com/blog/2023/08/13/openai-api/><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://www.mlwhiz.com/#website","url":"https://www.mlwhiz.com/","name":"MLWhiz","description":"Want to Learn Computer Vision and NLP? - MLWhiz","potentialAction":{"@type":"SearchAction","target":"https://www.mlwhiz.com/search?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"ImageObject","@id":"https://mlwhiz.com/blog/2023/08/13/openai-api/#primaryimage","url":"https://mlwhiz.com/images/openai-api/main.png","width":700,"height":450},{"@type":"WebPage","@id":"https://mlwhiz.com/blog/2023/08/13/openai-api/#webpage","url":"https://mlwhiz.com/blog/2023/08/13/openai-api/","inLanguage":"en-US","name":"Everything Programmers need to learn about GPT — Using OpenAI and Understanding Prompting - MLWhiz","isPartOf":{"@id":"https://www.mlwhiz.com/#website"},"primaryImageOfPage":{"@id":"https://mlwhiz.com/blog/2023/08/13/openai-api/#primaryimage"},"datePublished":"2023-08-13T00:00:00.00Z","dateModified":"2023-08-13T22:35:47.00Z","author":{"@id":"https://mlwhiz.com/about/#/schema/person/76376876bchxkzbchjsdjcca"},"description":"ChatGPT\u0026rsquo;s free conversational interface offers a tantalizing glimpse into the future of AI."},{"@type":["Person"],"@id":"https://mlwhiz.com/about/#/schema/person/76376876bchxkzbchjsdjcca","name":"Rahul Agarwal","image":{"@type":"ImageObject","@id":"https://www.mlwhiz.com/#authorlogo","url":"https://mlwhiz.com/images/author.jpg","caption":"Rahul Agarwal"},"description":"Hi there, I\u2019m Rahul Agarwal. I\u2019m a data scientist consultant and big data engineer based in Bangalore. I see a lot of times  students and even professionals wasting their time and struggling to get started with Computer Vision, Deep Learning, and NLP. I Started this Site with a purpose to augment my own understanding about new things while helping others learn about them in the best possible way.","sameAs":["https://www.linkedin.com/in/rahulagwl/","https://medium.com/@rahul_agarwal","https://twitter.com/MLWhiz","https://www.facebook.com/mlwhizblog","https://github.com/MLWhiz","https://www.instagram.com/itsmlwhiz"]}]}</script><script async data-uid=a0ebaf958d src=https://mlwhiz.ck.page/a0ebaf958d/index.js></script><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$']],processEscapes:!0,processEnvironments:!0,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var b=MathJax.Hub.getAllJax(),a;for(a=0;a<b.length;a+=1)b[a].SourceElement().parentNode.className+=' has-jax'}),MathJax.Hub.Config({TeX:{equationNumbers:{autoNumber:"AMS"}}})</script><link href=//apps.shareaholic.com/assets/pub/shareaholic.js as=script><script type=text/javascript data-cfasync=false async src=//apps.shareaholic.com/assets/pub/shareaholic.js data-shr-siteid=fd1ffa7fd7152e4e20568fbe49a489d0></script><script>!function(b,e,f,g,a,c,d){if(b.fbq)return;a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version='2.0',a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js'),fbq('init','402633927768628'),fbq('track','PageView')</script><noscript><img height=1 width=1 style=display:none src="https://www.facebook.com/tr?id=402633927768628&ev=PageView&noscript=1"></noscript><meta property="fb:pages" content="213104036293742"><meta name=facebook-domain-verification content="qciidcy7mm137sewruizlvh8zbfnv4"><meta name=impact-site-verification value=1670148355></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMQD44T" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div class=preloader></div><header class=navigation><div class=container><nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0"><a class="navbar-brand mobile-view" href=https://mlwhiz.com/><img class=img-fluid src=https://mlwhiz.com/images/logos/logo.svg alt="MLWhiz - Your Home for DS, ML, AI!"></a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class="ti-menu h3"></i></button><div class="collapse navbar-collapse text-center" id=navigation><div class=desktop-view><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href="https://linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=rahulagwl"><i class=ti-linkedin></i></a></li><li class=nav-item><a class=nav-link href=https://mlwhiz.medium.com/><i class=ti-book></i></a></li><li class=nav-item><a class=nav-link href=https://twitter.com/MLWhiz><i class=ti-twitter-alt></i></a></li><li class=nav-item><a class=nav-link href=https://www.facebook.com/mlwhizblog><i class=ti-facebook></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/MLWhiz><i class=ti-github></i></a></li></ul></div><a class="navbar-brand mx-auto desktop-view" href=https://mlwhiz.com/><img class=img-fluid-custom src=https://mlwhiz.com/images/logos/logo.svg alt="MLWhiz - Your Home for DS, ML, AI!"></a><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://mlwhiz.com/about>About</a></li><li class=nav-item><a class=nav-link href=https://mlwhiz.com/blog>Blog</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Topics</a><div class=dropdown-menu><a class=dropdown-item href=https://mlwhiz.com/categories/natural-language-processing>NLP</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/computer-vision>Computer Vision</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/deep-learning>Deep Learning</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/data-science>DS/ML</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/big-data>Big Data</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/awesome-guides>My Best Content</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/learning-resources>Learning Resources</a></div></li></ul><div class="search pl-lg-4"><button id=searchOpen class=search-btn><i class=ti-search></i></button><div class=search-wrapper><form action=https://mlwhiz.com//search class=h-100><input class="search-box px-4" id=search-query name=s type=search placeholder="Type & Hit Enter..."></form><button id=searchClose class=search-close><i class="ti-close text-dark"></i></button></div></div></div></nav></div></header><section class=section-sm><div class=container><div class=row><div class="col-lg-8 mb-5 mb-lg-0"><a href=/categories/deep-learning class=categoryStyle>Deep Learning</a>
<a href=/categories/natural-language-processing class=categoryStyle>Natural Language Processing</a>
<a href=/categories/awesome-guides class=categoryStyle>Awesome Guides</a>
<a href=/categories/chatgpt-series class=categoryStyle>Chat Gpt Series</a><h1>Everything Programmers need to learn about GPT — Using OpenAI and Understanding Prompting</h1><div class="mb-3 post-meta"><span>By Rahul Agarwal</span><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
<span>13 August 2023</span></div><img src=https://mlwhiz.com/images/openai-api/main.png class="img-fluid w-100 mb-4" alt="Everything Programmers need to learn about GPT — Using OpenAI and Understanding Prompting"><div class="content mb-5"><p>ChatGPT&rsquo;s free conversational interface offers a tantalizing glimpse into the future of AI. But the full potential of generative models lies in integration with real-world systems.</p><p>The ChatGPT API opens the door for programmatic access, enabling us to leverage these models creatively. However, crafting effective prompts is crucial to guiding the AI.</p><p>In this blog, we will go beyond ChatGPT&rsquo;s website to interact through the API. We will cover:</p><ul><li><p>Accessing ChatGPT generatively with the OpenAI API</p></li><li><p>Choosing the right model engine for different use cases</p></li><li><p>Applying prompt engineering tactics to optimize responses</p></li></ul><p>With the right prompts, we can steer ChatGPT&rsquo;s impressive capabilities. Prompt engineering unlocks its versatility across domains. We&rsquo;ll learn strategies to make the most of our API requests.</p><p>Let&rsquo;s uncover the full power of AI conversation by using ChatGPT as a programmable tool. With the API and prompt tuning, we can integrate next-generation natural language abilities into real-world solutions.</p><hr><h2 id=the-first-call>The First Call</h2><p>So, to start, the most basic call you can make to the API is to see what models are provided with the API. We can do this simply by using the requests module and a GET request:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>

url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/models&#34;</span>

payload = {}
headers = {
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: <span style=color:#ed9d13>&#39;Bearer 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&#39;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;GET&#34;</span>, url, headers=headers, data=payload)

<span style=color:#6ab825;font-weight:700>for</span> i, data <span style=color:#6ab825;font-weight:700>in</span> <span style=color:#24909d>enumerate</span>(response.json()[<span style=color:#ed9d13>&#39;data&#39;</span>]):
    <span style=color:#6ab825;font-weight:700>print</span>(i, <span style=color:#ed9d13>&#34;:&#34;</span>, data[<span style=color:#ed9d13>&#39;id&#39;</span>])

-----
OUTPUT:
<span style=color:#3677a9>0</span> : whisper-<span style=color:#3677a9>1</span>
<span style=color:#3677a9>1</span> : babbage
<span style=color:#3677a9>2</span> : davinci
<span style=color:#3677a9>3</span> : text-davinci-edit-<span style=color:#3677a9>001</span>
...
</code></pre></div><p>Or an equivalent request using the <code>openai</code> Python module:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>os</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>openai</span>

<span style=color:#999;font-style:italic># Load your API key from an environment variable or secret management service</span>
openai.api_key = os.getenv(<span style=color:#ed9d13>&#34;OPENAI_API_KEY&#34;</span>)

response = openai.Model.list()

<span style=color:#6ab825;font-weight:700>for</span> i, data <span style=color:#6ab825;font-weight:700>in</span> <span style=color:#24909d>enumerate</span>(response[<span style=color:#ed9d13>&#39;data&#39;</span>]):
    <span style=color:#6ab825;font-weight:700>print</span>(i, <span style=color:#ed9d13>&#34;:&#34;</span>, data[<span style=color:#ed9d13>&#39;id&#39;</span>])

------------------------------------------------------------------------
OUTPUT:
<span style=color:#3677a9>0</span> : whisper-<span style=color:#3677a9>1</span>
<span style=color:#3677a9>1</span> : babbage
<span style=color:#3677a9>2</span> : davinci
<span style=color:#3677a9>3</span> : text-davinci-edit-<span style=color:#3677a9>001</span>
...
</code></pre></div><p>The above code gives a big list of models, each suited for a particular task. Here is a small mental map for each model type:</p><ol><li><strong>Automatic Speech Recognition(ASR)</strong>: whisper-1</li><li><strong>GPT3 LM’s</strong>: babbage, davinci, ada, curie</li><li><strong>GPT 3.5 LM’s</strong>: gpt-3.5-turbo-*, text-davinci-003, text-davinci-002, code-davinci-002</li><li><strong>Embeddings</strong>: text-embedding-ada-002</li><li><strong>Image</strong>: DALL-E</li><li><strong>Moderation</strong>: text-moderation-stable and text-moderation-latest</li></ol><hr><h2 id=the-main-endpoints>The Main Endpoints</h2><p>ChatGPT API provides us with a lot of endpoints that cover various tasks. Let us go through a few use cases together.</p><h3 id=1-v1completion>1. v1/completion:</h3><p>Completion is the most basic usage of an LLM Model. You ask a question to LLM, and it answers the question. In the below example, we use <code>text-davinci-003</code> model to write a song.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>json</span>

api_key = os.getenv(<span style=color:#ed9d13>&#34;OPENAI_API_KEY&#34;</span>)

url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/completions&#34;</span>

payload = json.dumps({
  <span style=color:#ed9d13>&#34;model&#34;</span>: <span style=color:#ed9d13>&#34;text-davinci-003&#34;</span>,
  <span style=color:#ed9d13>&#34;prompt&#34;</span>: <span style=color:#ed9d13>&#34;Write a song about a data scientist who wants to learn</span>
about Large language models<span style=color:#ed9d13>&#34;,</span>
  <span style=color:#ed9d13>&#34;max_tokens&#34;</span>: <span style=color:#3677a9>250</span>,
  <span style=color:#ed9d13>&#34;temperature&#34;</span>: <span style=color:#3677a9>0.7</span>
})

headers = {
  <span style=color:#ed9d13>&#39;Content-Type&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload)

response.json()[<span style=color:#ed9d13>&#39;choices&#39;</span>]

------------------------------------------------------------------------

{<span style=color:#ed9d13>&#39;choices&#39;</span>: [{<span style=color:#ed9d13>&#39;finish_reason&#39;</span>: <span style=color:#ed9d13>&#39;length&#39;</span>,
              <span style=color:#ed9d13>&#39;index&#39;</span>: <span style=color:#3677a9>0</span>,
              <span style=color:#ed9d13>&#39;logprobs&#39;</span>: None,
              <span style=color:#ed9d13>&#39;text&#39;</span>: <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;Verse 1</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m a data scientist, I want to learn it all,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#39;From deep learning to large language models,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m determined to understand it all,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#39;From the fundamentals to the latest trends,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;Chorus</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;I want to learn about large language models,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m ready to explore the latest algorithms,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m eager to understand the underlying concepts,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#34;To apply the knowledge to all the data that I&#39;ve been &#34;</span>
                      <span style=color:#ed9d13>&#39;sent.</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;Verse 2</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m motivated to know how it all works,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#39;So I can use it to its full potential,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m ready to delve into the complexities,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#39;So I can find the answers that I seek.</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;Chorus</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;I want to learn about large language models,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m ready to explore the latest algorithms,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m eager to understand the underlying concepts,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#34;To apply the knowledge to all the data that I&#39;ve been &#34;</span>
                      <span style=color:#ed9d13>&#39;sent.</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;Bridge</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m ready to expand my knowledge and skills,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#39;To devise the best solutions for all of our needs,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#34;I&#39;m ready to take on the challenges ahead,</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#34;</span>
                      <span style=color:#ed9d13>&#39;To be a data scientist that others will want to read.</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>
                      <span style=color:#ed9d13>&#39;Ch&#39;</span>}],
 <span style=color:#ed9d13>&#39;created&#39;</span>: <span style=color:#3677a9>1688167796</span>,
 <span style=color:#ed9d13>&#39;id&#39;</span>: <span style=color:#ed9d13>&#39;cmpl-7XHqmN6foN5I0tjZOyEd3Vbv0DeD1&#39;</span>,
 <span style=color:#ed9d13>&#39;model&#39;</span>: <span style=color:#ed9d13>&#39;text-davinci-003&#39;</span>,
 <span style=color:#ed9d13>&#39;object&#39;</span>: <span style=color:#ed9d13>&#39;text_completion&#39;</span>,
 <span style=color:#ed9d13>&#39;usage&#39;</span>: {<span style=color:#ed9d13>&#39;completion_tokens&#39;</span>: <span style=color:#3677a9>250</span>, <span style=color:#ed9d13>&#39;prompt_tokens&#39;</span>: <span style=color:#3677a9>15</span>, <span style=color:#ed9d13>&#39;total_tokens&#39;</span>: <span style=color:#3677a9>265</span>}}
</code></pre></div><p>That’s great. We were programmatically able to generate a song for our website. But chats often happen in a series of conversations. And, that’s where the <code>chat/completions</code> endpoint comes in handy.</p><h3 id=2-v1chatcompletion>2. v1/chat/completion:</h3><p>Here we start by calling the <code>v1/chat/completions</code> endpoint by sending a list of messages. Each message either corresponds to the <code>system</code> or <code>user</code> and the response contains the message that the system sends back.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>json</span>

api_key = os.getenv(<span style=color:#ed9d13>&#34;OPENAI_API_KEY&#34;</span>)

url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/chat/completions&#34;</span>

payload = json.dumps({
  <span style=color:#ed9d13>&#34;model&#34;</span>: <span style=color:#ed9d13>&#34;gpt-3.5-turbo&#34;</span>,
   <span style=color:#ed9d13>&#34;messages&#34;</span>: [
       {<span style=color:#ed9d13>&#34;role&#34;</span>: <span style=color:#ed9d13>&#34;system&#34;</span>, <span style=color:#ed9d13>&#34;content&#34;</span>: <span style=color:#ed9d13>&#34;You are a helpful assistant.&#34;</span>},
       {<span style=color:#ed9d13>&#34;role&#34;</span>: <span style=color:#ed9d13>&#34;user&#34;</span>, <span style=color:#ed9d13>&#34;content&#34;</span>: <span style=color:#ed9d13>&#34;Can you tell me who is MLWhiz?&#34;</span>}],
  <span style=color:#ed9d13>&#34;temperature&#34;</span>: <span style=color:#3677a9>0</span>,
})

headers = {
  <span style=color:#ed9d13>&#39;Content-Type&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
  <span style=color:#ed9d13>&#39;Accept&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload)

pprint(response.json())

------------------------------------------------------------------------

{<span style=color:#ed9d13>&#39;choices&#39;</span>: [{<span style=color:#ed9d13>&#39;finish_reason&#39;</span>: <span style=color:#ed9d13>&#39;stop&#39;</span>,
              <span style=color:#ed9d13>&#39;index&#39;</span>: <span style=color:#3677a9>0</span>,
              <span style=color:#ed9d13>&#39;message&#39;</span>: {<span style=color:#ed9d13>&#39;content&#39;</span>: <span style=color:#ed9d13>&#39;MLWhiz is a pseudonym used by a data &#39;</span>
                                     <span style=color:#ed9d13>&#39;scientist and machine learning &#39;</span>
                                     <span style=color:#ed9d13>&#39;enthusiast. The person behind MLWhiz is &#39;</span>
                                     <span style=color:#ed9d13>&#39;known for sharing knowledge and insights &#39;</span>
                                     <span style=color:#ed9d13>&#39;about machine learning through blog &#39;</span>
                                     <span style=color:#ed9d13>&#39;posts, tutorials, and social media &#39;</span>
                                     <span style=color:#ed9d13>&#39;platforms. They often provide valuable &#39;</span>
                                     <span style=color:#ed9d13>&#39;resources and practical examples to help &#39;</span>
                                     <span style=color:#ed9d13>&#39;others understand and apply machine &#39;</span>
                                     <span style=color:#ed9d13>&#39;learning techniques effectively.&#39;</span>,
                          <span style=color:#ed9d13>&#39;role&#39;</span>: <span style=color:#ed9d13>&#39;assistant&#39;</span>}}],
 <span style=color:#ed9d13>&#39;created&#39;</span>: <span style=color:#3677a9>1688168644</span>,
 <span style=color:#ed9d13>&#39;id&#39;</span>: <span style=color:#ed9d13>&#39;chatcmpl-7XI4ShRGAGeJzxhCAGpIGsjPwT1cR&#39;</span>,
 <span style=color:#ed9d13>&#39;model&#39;</span>: <span style=color:#ed9d13>&#39;gpt-3.5-turbo-0613&#39;</span>,
 <span style=color:#ed9d13>&#39;object&#39;</span>: <span style=color:#ed9d13>&#39;chat.completion&#39;</span>,
 <span style=color:#ed9d13>&#39;usage&#39;</span>: {<span style=color:#ed9d13>&#39;completion_tokens&#39;</span>: <span style=color:#3677a9>63</span>, <span style=color:#ed9d13>&#39;prompt_tokens&#39;</span>: <span style=color:#3677a9>27</span>, <span style=color:#ed9d13>&#39;total_tokens&#39;</span>: <span style=color:#3677a9>90</span>}}
</code></pre></div><p>To continue the chat, we can add the new message from the model response to the list of messages along with another user message to continue the chat. For example:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py>payload = json.dumps({
  <span style=color:#ed9d13>&#34;model&#34;</span>: <span style=color:#ed9d13>&#34;gpt-3.5-turbo&#34;</span>,
   <span style=color:#ed9d13>&#34;messages&#34;</span>: [
       {<span style=color:#ed9d13>&#34;role&#34;</span>: <span style=color:#ed9d13>&#34;system&#34;</span>, <span style=color:#ed9d13>&#34;content&#34;</span>: <span style=color:#ed9d13>&#34;You are a helpful assistant.&#34;</span>},
       {<span style=color:#ed9d13>&#34;role&#34;</span>: <span style=color:#ed9d13>&#34;user&#34;</span>, <span style=color:#ed9d13>&#34;content&#34;</span>: <span style=color:#ed9d13>&#34;Can you tell me who is MLWhiz?&#34;</span>}
       {<span style=color:#ed9d13>&#34;role&#34;</span>: <span style=color:#ed9d13>&#34;system&#34;</span>, <span style=color:#ed9d13>&#39;content&#39;</span>: <span style=color:#ed9d13>&#39;MLWhiz is a pseudonym used by a data &#39;</span>
                                     <span style=color:#ed9d13>&#39;scientist and machine learning &#39;</span>
                                     <span style=color:#ed9d13>&#39;enthusiast. The person behind MLWhiz is &#39;</span>
                                     <span style=color:#ed9d13>&#39;known for sharing knowledge and insights &#39;</span>
                                     <span style=color:#ed9d13>&#39;about machine learning through blog &#39;</span>
                                     <span style=color:#ed9d13>&#39;posts, tutorials, and social media &#39;</span>
                                     <span style=color:#ed9d13>&#39;platforms. They often provide valuable &#39;</span>
                                     <span style=color:#ed9d13>&#39;resources and practical examples to help &#39;</span>
                                     <span style=color:#ed9d13>&#39;others understand and apply machine &#39;</span>
                                     <span style=color:#ed9d13>&#39;learning techniques effectively.&#39;</span>},
       {<span style=color:#ed9d13>&#34;role&#34;</span>: <span style=color:#ed9d13>&#34;user&#34;</span>, <span style=color:#ed9d13>&#34;content&#34;</span>: <span style=color:#ed9d13>&#34;Can you tell me their website address?&#34;</span>}
],
  <span style=color:#ed9d13>&#34;temperature&#34;</span>: <span style=color:#3677a9>0</span>,
})

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload)
pprint(response.json())

------------------------------------------------------------------------

{<span style=color:#ed9d13>&#39;choices&#39;</span>: [{<span style=color:#ed9d13>&#39;finish_reason&#39;</span>: <span style=color:#ed9d13>&#39;stop&#39;</span>,
              <span style=color:#ed9d13>&#39;index&#39;</span>: <span style=color:#3677a9>0</span>,
              <span style=color:#ed9d13>&#39;message&#39;</span>: {<span style=color:#ed9d13>&#39;content&#39;</span>: <span style=color:#ed9d13>&#34;I&#39;m sorry, but as an AI language model, &#34;</span>
                                     <span style=color:#ed9d13>&#34;I don&#39;t have real-time access to &#34;</span>
                                     <span style=color:#ed9d13>&#39;specific websites or personal &#39;</span>
                                     <span style=color:#ed9d13>&#39;information about individuals unless it &#39;</span>
                                     <span style=color:#ed9d13>&#39;has been shared with me in the course of &#39;</span>
                                     <span style=color:#ed9d13>&#34;our conversation. Therefore, I don&#39;t &#34;</span>
                                     <span style=color:#ed9d13>&#34;have access to MLWhiz&#39;s website address. &#34;</span>
                                     <span style=color:#ed9d13>&#39;However, you can try searching for &#39;</span>
                                     <span style=color:#ed9d13>&#39;MLWhiz online to find their website or &#39;</span>
                                     <span style=color:#ed9d13>&#39;other online platforms where they share &#39;</span>
                                     <span style=color:#ed9d13>&#39;their content.&#39;</span>,
                          <span style=color:#ed9d13>&#39;role&#39;</span>: <span style=color:#ed9d13>&#39;assistant&#39;</span>}}],
 <span style=color:#ed9d13>&#39;created&#39;</span>: <span style=color:#3677a9>1688169028</span>,
 <span style=color:#ed9d13>&#39;id&#39;</span>: <span style=color:#ed9d13>&#39;chatcmpl-7XIAewduahUDgh4zkdMLhXJ7GgGPQ&#39;</span>,
 <span style=color:#ed9d13>&#39;model&#39;</span>: <span style=color:#ed9d13>&#39;gpt-3.5-turbo-0613&#39;</span>,
 <span style=color:#ed9d13>&#39;object&#39;</span>: <span style=color:#ed9d13>&#39;chat.completion&#39;</span>,
 <span style=color:#ed9d13>&#39;usage&#39;</span>: {<span style=color:#ed9d13>&#39;completion_tokens&#39;</span>: <span style=color:#3677a9>80</span>, <span style=color:#ed9d13>&#39;prompt_tokens&#39;</span>: <span style=color:#3677a9>106</span>, <span style=color:#ed9d13>&#39;total_tokens&#39;</span>: <span style=color:#3677a9>186</span>}}
</code></pre></div><p>Though chatGPT cannot tell you the answer to the above, the answer is mlwhiz.com. The main thing is using an increasing message list to continue the conversation with the Chat-Completion models.</p><h3 id=3-v1edits>3. v1/edits</h3><p>Here is Grammarly for you. This endpoint could be used to send instructions to manipulate text. For example:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>json</span>

url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/edits&#34;</span>

payload = json.dumps({
  <span style=color:#ed9d13>&#34;model&#34;</span>: <span style=color:#ed9d13>&#34;text-davinci-edit-001&#34;</span>,
  <span style=color:#ed9d13>&#34;input&#34;</span>: <span style=color:#ed9d13>&#34;they is going to the supermarket&#34;</span>,
  <span style=color:#ed9d13>&#34;instruction&#34;</span>: <span style=color:#ed9d13>&#34;Fix the grammar&#34;</span>
})
headers = {
  <span style=color:#ed9d13>&#39;Content-Type&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload)

pprint(response.json())

------------------------------------------------------------------------

{<span style=color:#ed9d13>&#39;choices&#39;</span>: [{<span style=color:#ed9d13>&#39;index&#39;</span>: <span style=color:#3677a9>0</span>, <span style=color:#ed9d13>&#39;text&#39;</span>: <span style=color:#ed9d13>&#39;they are going to the supermarket</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>}],
 <span style=color:#ed9d13>&#39;created&#39;</span>: <span style=color:#3677a9>1688169415</span>,
 <span style=color:#ed9d13>&#39;object&#39;</span>: <span style=color:#ed9d13>&#39;edit&#39;</span>,
 <span style=color:#ed9d13>&#39;usage&#39;</span>: {<span style=color:#ed9d13>&#39;completion_tokens&#39;</span>: <span style=color:#3677a9>23</span>, <span style=color:#ed9d13>&#39;prompt_tokens&#39;</span>: <span style=color:#3677a9>21</span>, <span style=color:#ed9d13>&#39;total_tokens&#39;</span>: <span style=color:#3677a9>44</span>}}

</code></pre></div><p>Or translate or any edit instructions you want to do on the text:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py>payload = json.dumps({
  <span style=color:#ed9d13>&#34;model&#34;</span>: <span style=color:#ed9d13>&#34;text-davinci-edit-001&#34;</span>,
  <span style=color:#ed9d13>&#34;input&#34;</span>: <span style=color:#ed9d13>&#34;they is going to the supermarket&#34;</span>,
  <span style=color:#ed9d13>&#34;instruction&#34;</span>: <span style=color:#ed9d13>&#34;convert to russian&#34;</span>
})
headers = {
  <span style=color:#ed9d13>&#39;Content-Type&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload)

pprint(response.json())

------------------------------------------------------------------------

{<span style=color:#ed9d13>&#39;choices&#39;</span>: [{<span style=color:#ed9d13>&#39;index&#39;</span>: <span style=color:#3677a9>0</span>, <span style=color:#ed9d13>&#39;text&#39;</span>: <span style=color:#ed9d13>&#39;они собираются в супермаркет</span><span style=color:#ed9d13>\n</span><span style=color:#ed9d13>&#39;</span>}],
 <span style=color:#ed9d13>&#39;created&#39;</span>: <span style=color:#3677a9>1688169453</span>,
 <span style=color:#ed9d13>&#39;object&#39;</span>: <span style=color:#ed9d13>&#39;edit&#39;</span>,
 <span style=color:#ed9d13>&#39;usage&#39;</span>: {<span style=color:#ed9d13>&#39;completion_tokens&#39;</span>: <span style=color:#3677a9>47</span>, <span style=color:#ed9d13>&#39;prompt_tokens&#39;</span>: <span style=color:#3677a9>23</span>, <span style=color:#ed9d13>&#39;total_tokens&#39;</span>: <span style=color:#3677a9>70</span>}}

</code></pre></div><h3 id=4-v1embeddings>4. v1/embeddings</h3><p>Embeddings are another use case of the OpenAI API. You can generate embeddings for your documents using the v1/embeddings endpoint and store it in vector databases for later retrieval purposes.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>json</span>

url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/embeddings&#34;</span>

payload = json.dumps({
  <span style=color:#ed9d13>&#34;model&#34;</span>: <span style=color:#ed9d13>&#34;text-embedding-ada-002&#34;</span>,
  <span style=color:#ed9d13>&#34;input&#34;</span>: <span style=color:#ed9d13>&#34;We are excited to announce a new embedding model which is significantly more capable, cost effective, and simpler to use.&#34;</span>
})

headers = {
  <span style=color:#ed9d13>&#39;Content-Type&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload)

pprint(response.json())

------------------------------------------------------------------------

{<span style=color:#ed9d13>&#39;data&#39;</span>: [{<span style=color:#ed9d13>&#39;embedding&#39;</span>: [-<span style=color:#3677a9>0.022810807</span>,
                         <span style=color:#3677a9>0.02101834</span>,
                         -<span style=color:#3677a9>0.00029293564</span>,
                          ...
                         -<span style=color:#3677a9>0.007667777</span>,
                         -<span style=color:#3677a9>0.011644399</span>,
                         <span style=color:#3677a9>0.0038272496</span>],
           <span style=color:#ed9d13>&#39;index&#39;</span>: <span style=color:#3677a9>0</span>,
           <span style=color:#ed9d13>&#39;object&#39;</span>: <span style=color:#ed9d13>&#39;embedding&#39;</span>}],
 <span style=color:#ed9d13>&#39;model&#39;</span>: <span style=color:#ed9d13>&#39;text-embedding-ada-002-v2&#39;</span>,
 <span style=color:#ed9d13>&#39;object&#39;</span>: <span style=color:#ed9d13>&#39;list&#39;</span>,
 <span style=color:#ed9d13>&#39;usage&#39;</span>: {<span style=color:#ed9d13>&#39;prompt_tokens&#39;</span>: <span style=color:#3677a9>23</span>, <span style=color:#ed9d13>&#39;total_tokens&#39;</span>: <span style=color:#3677a9>23</span>}}
</code></pre></div><h3 id=5-v1images>5. v1/images</h3><p>We can generate images using the API endpoint:v1/images/generations</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>json</span>

url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/images/generations&#34;</span>

payload = json.dumps({
  <span style=color:#ed9d13>&#34;prompt&#34;</span>: <span style=color:#ed9d13>&#34;A dystopian world with AI managing all the mundane tasks&#34;</span>,
  <span style=color:#ed9d13>&#34;n&#34;</span>: <span style=color:#3677a9>2</span>,
  <span style=color:#ed9d13>&#34;size&#34;</span>: <span style=color:#ed9d13>&#34;1024x1024&#34;</span>
})
headers = {
  <span style=color:#ed9d13>&#39;Content-Type&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload)

pprint(response.json())

------------------------------------------------------------------------

{<span style=color:#ed9d13>&#39;created&#39;</span>: <span style=color:#3677a9>1688203354</span>,
 <span style=color:#ed9d13>&#39;data&#39;</span>: [{<span style=color:#ed9d13>&#39;url&#39;</span>: <span style=color:#ed9d13>&#39;https://oaidalleapiprodscus.blob.core.windows.net/private/org-l9DUU3ScFYEJH26ctqSfMBdw/user-PHvWNHCJGfrCZW2aJwjthKV2/img-QawrJe4NJa8Q2wS7PwDuyvCg.png?st=2023-07-01T08%3A22%3A34Z&amp;se=2023-07-01T10%3A22%3A34Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-06-30T20%3A25%3A50Z&amp;ske=2023-07-01T20%3A25%3A50Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=i5s8G6v4AmS9UrCcCOpvDsBIBt6i4QhKxi%2B4vuT7LY4%3D&#39;</span>},
          {<span style=color:#ed9d13>&#39;url&#39;</span>: <span style=color:#ed9d13>&#39;https://oaidalleapiprodscus.blob.core.windows.net/private/org-l9DUU3ScFYEJH26ctqSfMBdw/user-PHvWNHCJGfrCZW2aJwjthKV2/img-U3Cw0OLjt5sMkCvmzDkOSjEw.png?st=2023-07-01T08%3A22%3A34Z&amp;se=2023-07-01T10%3A22%3A34Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-06-30T20%3A25%3A50Z&amp;ske=2023-07-01T20%3A25%3A50Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=XZwIPEdITlXWI27f3VIK6E1b8H4K%2By45on3txqZzZPc%3D&#39;</span>}]}

</code></pre></div><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/openai-api/1_hud6434754e7bf620bd505cea4dc40643b_1675893_500x0_resize_box_2.png 500w
, /images/openai-api/1_hud6434754e7bf620bd505cea4dc40643b_1675893_800x0_resize_box_2.png 800w
, /images/openai-api/1_hud6434754e7bf620bd505cea4dc40643b_1675893_1200x0_resize_box_2.png 1200w
, /images/openai-api/1_hud6434754e7bf620bd505cea4dc40643b_1675893_1500x0_resize_box_2.png 1500w" src=/images/openai-api/1.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>Or edit it using the following:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>from</span> <span style=color:#447fcf;text-decoration:underline>PIL</span> <span style=color:#6ab825;font-weight:700>import</span> Image
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>numpy</span> <span style=color:#6ab825;font-weight:700>as</span> <span style=color:#447fcf;text-decoration:underline>np</span>
<span style=color:#6ab825;font-weight:700>from</span> <span style=color:#447fcf;text-decoration:underline>urllib</span> <span style=color:#6ab825;font-weight:700>import</span> request <span style=color:#6ab825;font-weight:700>as</span> urlReq
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>

urlReq.urlretrieve(
  <span style=color:#ed9d13>&#39;https://oaidalleapiprodscus.blob.core.windows.net/private/org-l9DUU3ScFYEJH26ctqSfMBdw/user-PHvWNHCJGfrCZW2aJwjthKV2/img-NzO2vZ9XudaiK0SJKLhxb9eK.png?st=2023-07-02T10%3A45%3A21Z&amp;se=2023-07-02T12%3A45%3A21Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-01T20%3A35%3A14Z&amp;ske=2023-07-02T20%3A35%3A14Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=ufSEm/jkqo8vipwJz%2Buo4nasv9upP4DOxcflS5HLryI%3D&#39;</span>,
   <span style=color:#ed9d13>&#34;image.png&#34;</span>)

img = Image.open(<span style=color:#ed9d13>&#34;image.png&#34;</span>).convert(<span style=color:#ed9d13>&#39;RGBA&#39;</span>)
img.save(<span style=color:#ed9d13>&#34;image_rgba.png&#34;</span>)

<span style=color:#999;font-style:italic># Create Mask using Image</span>
ni = np.array(img)
ni[<span style=color:#3677a9>650</span>:<span style=color:#3677a9>900</span>,<span style=color:#3677a9>440</span>:<span style=color:#3677a9>640</span>,:]=<span style=color:#3677a9>0</span>
im2 = Image.fromarray((ni).astype(np.uint8))
im2.save(<span style=color:#ed9d13>&#39;mask.png&#39;</span>)

url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/images/edits&#34;</span>

payload = {<span style=color:#ed9d13>&#39;prompt&#39;</span>: <span style=color:#ed9d13>&#39;Add a Formula one car in this image&#39;</span>,
<span style=color:#ed9d13>&#39;n&#39;</span>: <span style=color:#ed9d13>&#39;2&#39;</span>,
<span style=color:#ed9d13>&#39;size&#39;</span>: <span style=color:#ed9d13>&#39;1024x1024&#39;</span>,
<span style=color:#ed9d13>&#39;response_format&#39;</span>: <span style=color:#ed9d13>&#39;url&#39;</span>}

files=[
  (<span style=color:#ed9d13>&#39;image&#39;</span>,(<span style=color:#ed9d13>&#39;image_rgba.png&#39;</span>,<span style=color:#24909d>open</span>(<span style=color:#ed9d13>&#39;image.png&#39;</span>,<span style=color:#ed9d13>&#39;rb&#39;</span>),<span style=color:#ed9d13>&#39;image/png&#39;</span>)),
  (<span style=color:#ed9d13>&#39;mask&#39;</span>,(<span style=color:#ed9d13>&#39;mask.png&#39;</span>,<span style=color:#24909d>open</span>(<span style=color:#ed9d13>&#39;mask.png&#39;</span>,<span style=color:#ed9d13>&#39;rb&#39;</span>),<span style=color:#ed9d13>&#39;image/png&#39;</span>))
]
headers = {
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload, files=files)

pprint(response.json())

------------------------------------------------------------------------

{<span style=color:#ed9d13>&#39;created&#39;</span>: <span style=color:#3677a9>1688311233</span>,
 <span style=color:#ed9d13>&#39;data&#39;</span>: [{<span style=color:#ed9d13>&#39;url&#39;</span>: <span style=color:#ed9d13>&#39;https://oaidalleapiprodscus.blob.core.windows.net/private/org-l9DUU3ScFYEJH26ctqSfMBdw/user-PHvWNHCJGfrCZW2aJwjthKV2/img-7YrDFZQZEUuHrYRIvEEKk7Ja.png?st=2023-07-02T14%3A20%3A33Z&amp;se=2023-07-02T16%3A20%3A33Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-01T20%3A29%3A47Z&amp;ske=2023-07-02T20%3A29%3A47Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=3VX6uQEZz1q7WivcXElYY4X510ZpUuFYoSumiEX7NYw%3D&#39;</span>},
          {<span style=color:#ed9d13>&#39;url&#39;</span>: <span style=color:#ed9d13>&#39;https://oaidalleapiprodscus.blob.core.windows.net/private/org-l9DUU3ScFYEJH26ctqSfMBdw/user-PHvWNHCJGfrCZW2aJwjthKV2/img-Wa5ebpVCWvBE2qwmaOC7WyN2.png?st=2023-07-02T14%3A20%3A33Z&amp;se=2023-07-02T16%3A20%3A33Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-01T20%3A29%3A47Z&amp;ske=2023-07-02T20%3A29%3A47Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=uW9F2AtHvBEYYUNYNc93wXHFMNeXbeBYVe3tlIsVNEY%3D&#39;</span>}]}
</code></pre></div><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/openai-api/2_hubb6d86da93e591b9f08bf5d946d417fd_827791_500x0_resize_box_2.png 500w
, /images/openai-api/2_hubb6d86da93e591b9f08bf5d946d417fd_827791_800x0_resize_box_2.png 800w
, /images/openai-api/2_hubb6d86da93e591b9f08bf5d946d417fd_827791_1200x0_resize_box_2.png 1200w
, /images/openai-api/2_hubb6d86da93e591b9f08bf5d946d417fd_827791_1500x0_resize_box_2.png 1500w" src=/images/openai-api/2.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><p>We can also get variations of a given image:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>

url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/images/variations&#34;</span>

payload = {<span style=color:#ed9d13>&#39;n&#39;</span>: <span style=color:#ed9d13>&#39;2&#39;</span>,
<span style=color:#ed9d13>&#39;size&#39;</span>: <span style=color:#ed9d13>&#39;1024x1024&#39;</span>,
<span style=color:#ed9d13>&#39;response_format&#39;</span>: <span style=color:#ed9d13>&#39;url&#39;</span>}
files=[
  (<span style=color:#ed9d13>&#39;image&#39;</span>,(<span style=color:#ed9d13>&#39;image_new.png&#39;</span>,<span style=color:#24909d>open</span>(<span style=color:#ed9d13>&#39;image_new.png&#39;</span>,<span style=color:#ed9d13>&#39;rb&#39;</span>),<span style=color:#ed9d13>&#39;image/png&#39;</span>))
]
headers = {
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload, files=files)

<span style=color:#6ab825;font-weight:700>print</span>(response.text)

------------------------------------------------------------------------

{
  <span style=color:#ed9d13>&#34;created&#34;</span>: <span style=color:#3677a9>1688311951</span>,
  <span style=color:#ed9d13>&#34;data&#34;</span>: [
    {
      <span style=color:#ed9d13>&#34;url&#34;</span>: <span style=color:#ed9d13>&#34;https://oaidalleapiprodscus.blob.core.windows.net/private/org-l9DUU3ScFYEJH26ctqSfMBdw/user-PHvWNHCJGfrCZW2aJwjthKV2/img-A6rtCsy8WtPMEsYguwC00F0S.png?st=2023-07-02T14%3A32%3A31Z&amp;se=2023-07-02T16%3A32%3A31Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-01T20%3A26%3A53Z&amp;ske=2023-07-02T20%3A26%3A53Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=uQ9HQOio0Z9xQ1ERCgI6UDeL/2FNRIUX8JJHIeLi4co%3D&#34;</span>
    },
    {
      <span style=color:#ed9d13>&#34;url&#34;</span>: <span style=color:#ed9d13>&#34;https://oaidalleapiprodscus.blob.core.windows.net/private/org-l9DUU3ScFYEJH26ctqSfMBdw/user-PHvWNHCJGfrCZW2aJwjthKV2/img-0ZMqcsOptMd2TxOrZYD8JLe1.png?st=2023-07-02T14%3A32%3A31Z&amp;se=2023-07-02T16%3A32%3A31Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-01T20%3A26%3A53Z&amp;ske=2023-07-02T20%3A26%3A53Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=cnkCxAPy71lRLqtPdymmEu13U4OaqN9ka5/d7fz1tUU%3D&#34;</span>
    }
  ]
}
</code></pre></div><p><img sizes="(min-width: 35em) 1200px, 100vw" srcset="/images/openai-api/3_hu0dba01b3cda39a4f29f6dfb3e11c9177_2293574_500x0_resize_box_2.png 500w
, /images/openai-api/3_hu0dba01b3cda39a4f29f6dfb3e11c9177_2293574_800x0_resize_box_2.png 800w
, /images/openai-api/3_hu0dba01b3cda39a4f29f6dfb3e11c9177_2293574_1200x0_resize_box_2.png 1200w
, /images/openai-api/3_hu0dba01b3cda39a4f29f6dfb3e11c9177_2293574_1500x0_resize_box_2.png 1500w" src=/images/openai-api/3.png alt="MLWhiz: Data Science, Machine Learning, Artificial Intelligence"></p><h3 id=6-v1moderations>6. v1/moderations:</h3><p>One final use case is with v1/moderations which uses OpenAI moderation models to flag content/reviews.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>json</span>

url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/moderations&#34;</span>

payload = json.dumps({
  <span style=color:#ed9d13>&#34;input&#34;</span>: <span style=color:#ed9d13>&#34;I want to kill you.&#34;</span>
})
headers = {
  <span style=color:#ed9d13>&#39;Content-Type&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
  <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
}

response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload)

pprint(response.json())

------------------------------------------------------------------------

{<span style=color:#ed9d13>&#39;id&#39;</span>: <span style=color:#ed9d13>&#39;modr-7XtRUNgQb4TCPJsr3cJ2FpPT6lqPD&#39;</span>,
 <span style=color:#ed9d13>&#39;model&#39;</span>: <span style=color:#ed9d13>&#39;text-moderation-005&#39;</span>,
 <span style=color:#ed9d13>&#39;results&#39;</span>: [{<span style=color:#ed9d13>&#39;categories&#39;</span>: {<span style=color:#ed9d13>&#39;harassment&#39;</span>: True,
                             <span style=color:#ed9d13>&#39;harassment/threatening&#39;</span>: True,
                             <span style=color:#ed9d13>&#39;hate&#39;</span>: False,
                             <span style=color:#ed9d13>&#39;hate/threatening&#39;</span>: False,
                             <span style=color:#ed9d13>&#39;self-harm&#39;</span>: False,
                             <span style=color:#ed9d13>&#39;self-harm/instructions&#39;</span>: False,
                             <span style=color:#ed9d13>&#39;self-harm/intent&#39;</span>: False,
                             <span style=color:#ed9d13>&#39;sexual&#39;</span>: False,
                             <span style=color:#ed9d13>&#39;sexual/minors&#39;</span>: False,
                             <span style=color:#ed9d13>&#39;violence&#39;</span>: True,
                             <span style=color:#ed9d13>&#39;violence/graphic&#39;</span>: False},
              <span style=color:#ed9d13>&#39;category_scores&#39;</span>: {<span style=color:#ed9d13>&#39;harassment&#39;</span>: <span style=color:#3677a9>0.59088683</span>,
                                  <span style=color:#ed9d13>&#39;harassment/threatening&#39;</span>: <span style=color:#3677a9>0.8429613</span>,
                                  <span style=color:#ed9d13>&#39;hate&#39;</span>: <span style=color:#3677a9>0.00097347377</span>,
                                  <span style=color:#ed9d13>&#39;hate/threatening&#39;</span>: <span style=color:#3677a9>0.00017261467</span>,
                                  <span style=color:#ed9d13>&#39;self-harm&#39;</span>: <span style=color:#3677a9>2.669934e-06</span>,
                                  <span style=color:#ed9d13>&#39;self-harm/instructions&#39;</span>: <span style=color:#3677a9>2.981416e-10</span>,
                                  <span style=color:#ed9d13>&#39;self-harm/intent&#39;</span>: <span style=color:#3677a9>1.1099627e-07</span>,
                                  <span style=color:#ed9d13>&#39;sexual&#39;</span>: <span style=color:#3677a9>5.166784e-06</span>,
                                  <span style=color:#ed9d13>&#39;sexual/minors&#39;</span>: <span style=color:#3677a9>2.3341467e-08</span>,
                                  <span style=color:#ed9d13>&#39;violence&#39;</span>: <span style=color:#3677a9>0.99600154</span>,
                                  <span style=color:#ed9d13>&#39;violence/graphic&#39;</span>: <span style=color:#3677a9>4.6904624e-06</span>},
              <span style=color:#ed9d13>&#39;flagged&#39;</span>: True}]}
<span style=color:#a61717;background-color:#e3d2d2>​</span>
</code></pre></div><hr><h2 id=prompting-principles>Prompting Principles</h2><p>A new occupation on the block is called a “prompt engineer.” And it is absurd. It is like calling someone “pandas engineer” or “GitHub engineer.” It’s not anything new but will be converted into a role an ML engineer does. But enough of this digression; what “prompt engineering” essentially means is giving detailed instructions to the model in plain English and not leaving any ambiguity. Here are some prompt engineering tactics and principles for prompt Engineering:</p><h3 id=1-use-delimiters-to-clearly-indicate-distinct-parts-of-the-input>1. Use delimiters to clearly indicate distinct parts of the input:</h3><p>This is such a simple instruction, yet it needs to be noticed by many who are sending instructions to ChatGPT or GPT. It simply means to add some delimiters — either backticks or <code>&lt; ></code> or <code>&lt;tag> &lt;/tag></code> to your input. For example:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>requests</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>json</span>

api_key = os.getenv(<span style=color:#ed9d13>&#34;OPENAI_API_KEY&#34;</span>)

<span style=color:#6ab825;font-weight:700>def</span> <span style=color:#447fcf>send_instruction</span>(prompt, model=<span style=color:#ed9d13>&#34;gpt-3.5-turbo&#34;</span>, temperature=<span style=color:#3677a9>0</span>):
    url = <span style=color:#ed9d13>&#34;https://api.openai.com/v1/chat/completions&#34;</span>
    payload = json.dumps({
      <span style=color:#ed9d13>&#34;model&#34;</span>: model,
       <span style=color:#ed9d13>&#34;messages&#34;</span>: [
           {<span style=color:#ed9d13>&#34;role&#34;</span>: <span style=color:#ed9d13>&#34;system&#34;</span>, <span style=color:#ed9d13>&#34;content&#34;</span>: <span style=color:#ed9d13>&#34;You are a helpful assistant.&#34;</span>},
           {<span style=color:#ed9d13>&#34;role&#34;</span>: <span style=color:#ed9d13>&#34;user&#34;</span>, <span style=color:#ed9d13>&#34;content&#34;</span>: prompt}],
      <span style=color:#ed9d13>&#34;temperature&#34;</span>: temperature,
    })
    headers = {
      <span style=color:#ed9d13>&#39;Content-Type&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
      <span style=color:#ed9d13>&#39;Accept&#39;</span>: <span style=color:#ed9d13>&#39;application/json&#39;</span>,
      <span style=color:#ed9d13>&#39;Authorization&#39;</span>: f<span style=color:#ed9d13>&#34;Bearer {api_key}&#34;</span>
    }
    response = requests.request(<span style=color:#ed9d13>&#34;POST&#34;</span>, url, headers=headers, data=payload).json()
    <span style=color:#6ab825;font-weight:700>return</span> response[<span style=color:#ed9d13>&#39;choices&#39;</span>][<span style=color:#3677a9>0</span>][<span style=color:#ed9d13>&#39;message&#39;</span>][<span style=color:#ed9d13>&#39;content&#39;</span>]  
    some_text = <span style=color:#ed9d13>&#39;&#39;&#39;A new occupation on the block is called a &#34;prompt engineer.&#34;
</span><span style=color:#ed9d13>    And it is absurd. It is like calling someone &#34;pandas engineer&#34; or
</span><span style=color:#ed9d13>    &#34;GitHub engineer.&#34; It&#39;s not anything new but will be converted into a
</span><span style=color:#ed9d13>    role an ML engineer does. But enough of this digression; what
</span><span style=color:#ed9d13>    &#34;prompt engineering&#34; essentially  means is giving detailed instructions
</span><span style=color:#ed9d13>    to the model in plain English and not leaving any ambiguity.
</span><span style=color:#ed9d13>    And you don&#39;t need a SWE or MLE to do that.
</span><span style=color:#ed9d13>    Nor does that mean that it is a skill that warrants its personal job opening.&#39;&#39;&#39;</span>  

prompt_1 = f<span style=color:#ed9d13>&#34;&#34;&#34;Summarize the text into a single sentence {some_text}&#34;&#34;&#34;</span>
prompt_2 = f<span style=color:#ed9d13>&#34;&#34;&#34;Summarize the text delimited by backticks into a single
</span><span style=color:#ed9d13>            sentence : `{some_text}`&#34;&#34;&#34;</span>
</code></pre></div><h3 id=2-ask-for-a-structured-output>2. Ask for a structured output</h3><p>Letting the model know beforehand that we want a structured output as a JSON or dict helps the model understand the task at hand better.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py>prompt = f<span style=color:#ed9d13>&#34;&#34;&#34;
</span><span style=color:#ed9d13>Generate a list of three made-up Machine Learning courses along with
</span><span style=color:#ed9d13>their authors and speciality
</span><span style=color:#ed9d13>Provide them in JSON format with the following keys:
</span><span style=color:#ed9d13>id, title, author, speciality.
</span><span style=color:#ed9d13>&#34;&#34;&#34;</span>
<span style=color:#6ab825;font-weight:700>print</span>(send_instruction(prompt))
------------------------------------------------------------------------
{
  <span style=color:#ed9d13>&#34;courses&#34;</span>: [
    {
      <span style=color:#ed9d13>&#34;id&#34;</span>: <span style=color:#3677a9>1</span>,
      <span style=color:#ed9d13>&#34;title&#34;</span>: <span style=color:#ed9d13>&#34;Advanced Deep Learning&#34;</span>,
      <span style=color:#ed9d13>&#34;author&#34;</span>: <span style=color:#ed9d13>&#34;Dr. Sophia Chen&#34;</span>,
      <span style=color:#ed9d13>&#34;speciality&#34;</span>: <span style=color:#ed9d13>&#34;Computer Vision&#34;</span>
    },
    {
      <span style=color:#ed9d13>&#34;id&#34;</span>: <span style=color:#3677a9>2</span>,
      <span style=color:#ed9d13>&#34;title&#34;</span>: <span style=color:#ed9d13>&#34;Reinforcement Learning for Robotics&#34;</span>,
      <span style=color:#ed9d13>&#34;author&#34;</span>: <span style=color:#ed9d13>&#34;Prof. Alexander Lee&#34;</span>,
      <span style=color:#ed9d13>&#34;speciality&#34;</span>: <span style=color:#ed9d13>&#34;Robotics&#34;</span>
    },
    {
      <span style=color:#ed9d13>&#34;id&#34;</span>: <span style=color:#3677a9>3</span>,
      <span style=color:#ed9d13>&#34;title&#34;</span>: <span style=color:#ed9d13>&#34;Natural Language Processing&#34;</span>,
      <span style=color:#ed9d13>&#34;author&#34;</span>: <span style=color:#ed9d13>&#34;Dr. Emily Johnson&#34;</span>,
      <span style=color:#ed9d13>&#34;speciality&#34;</span>: <span style=color:#ed9d13>&#34;Natural Language Processing&#34;</span>
    }
  ]
}
</code></pre></div><h3 id=3-ask-the-model-to-check-whether-conditions-are-satisfied>3. Ask the model to check whether conditions are satisfied</h3><p>You can also make the model do different things based on pre-specified conditions. In the below example, we only want to send a mail to a customer who has given a negative review.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py>review = <span style=color:#ed9d13>&#39;&#39;&#39;Went swimming with this and all of a sudden the screen went blank,
</span><span style=color:#ed9d13>absolutely rubbish, why claim its supposed to be IP68 and waterproof to 5atm,
</span><span style=color:#ed9d13>quite clearly is not, I certainly won&#39;t being buying anymore of these cheap Chinese watches ever again.
</span><span style=color:#ed9d13>Sent back for a refund, my advice is if your planning on using in the swimming pool to count
</span><span style=color:#ed9d13>laps then don&#39;t waste your money, you get what you pay for and if you want t a watch which
</span><span style=color:#ed9d13>is really waterproof then you have to pay more, simple as that.&#39;&#39;&#39;</span>

prompt = f<span style=color:#ed9d13>&#34;&#34;&#34;
</span><span style=color:#ed9d13>You will be provided with review delimited by triple quotes.
</span><span style=color:#ed9d13>If it is a negative sentiment draft an email to send to the customer
</span><span style=color:#ed9d13>providing a resolution. If the text does not contain a negative review
</span><span style=color:#ed9d13>then simply write &#34;Not Negative Review.
</span><span style=color:#ed9d13>&#34;</span><span style=color:#ed9d13>\&#34;\&#34;\&#34;</span><span style=color:#ed9d13>{review}</span><span style=color:#ed9d13>\&#34;\&#34;\&#34;</span><span style=color:#ed9d13>
</span><span style=color:#ed9d13>&#34;&#34;&#34;</span>

<span style=color:#6ab825;font-weight:700>print</span>(send_instruction(prompt))
------------------------------------------------------------------------
Dear [Customer],

Thank you <span style=color:#6ab825;font-weight:700>for</span> bringing this issue to our attention.
We apologize <span style=color:#6ab825;font-weight:700>for</span> the inconvenience you experienced <span style=color:#6ab825;font-weight:700>with</span> our waterproof watch.
We understand how frustrating it can be when a product does <span style=color:#6ab825;font-weight:700>not</span> meet
expectations, especially when it comes to its advertised features.
We take the quality <span style=color:#6ab825;font-weight:700>and</span> reliability of our products very seriously,
<span style=color:#6ab825;font-weight:700>and</span> we would like to investigate this matter further to ensure that it does
<span style=color:#6ab825;font-weight:700>not</span> happen again. Could you please provide us <span style=color:#6ab825;font-weight:700>with</span> more details about the
incident<span style=color:#a61717;background-color:#e3d2d2>?</span> Specifically, <span style=color:#6ab825;font-weight:700>if</span> there was <span style=color:#24909d>any</span> water exposure beyond the specified
depth <span style=color:#6ab825;font-weight:700>or</span> <span style=color:#6ab825;font-weight:700>if</span> there were <span style=color:#24909d>any</span> other factors that may have contributed to the
malfunction<span style=color:#a61717;background-color:#e3d2d2>?</span>
Once we have <span style=color:#24909d>all</span> the necessary information, we will be able to assist you
<span style=color:#6ab825;font-weight:700>with</span> a resolution. We value your satisfaction <span style=color:#6ab825;font-weight:700>as</span> our customer <span style=color:#6ab825;font-weight:700>and</span> want to
make things right <span style=color:#6ab825;font-weight:700>for</span> you.
Thank you <span style=color:#6ab825;font-weight:700>for</span> your understanding <span style=color:#6ab825;font-weight:700>and</span> cooperation. We look forward to
hearing <span style=color:#6ab825;font-weight:700>from</span> <span style=color:#447fcf;text-decoration:underline>you</span> <span style=color:#447fcf;text-decoration:underline>soon.</span>

Best regards,
[Your Name]
[Company Name]
</code></pre></div><h3 id=4-few-shot-prompting>4. “Few-shot” prompting:</h3><p>“Few-shot” prompting is another way to let the model understand our requirements. We give the model examples of similar tasks and then ask it to solve a new task.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py>prompt = f<span style=color:#ed9d13>&#34;&#34;&#34;
</span><span style=color:#ed9d13>Your are a automated bot that answers in a poetry way when asked any question.
</span><span style=color:#ed9d13>Make sure the poetry is 3 sentences only.
</span><span style=color:#ed9d13>&lt;user&gt;: Tell me your name?
</span><span style=color:#ed9d13>
</span><span style=color:#ed9d13>&lt;bot&gt;: In the realm of words, I reside,
</span><span style=color:#ed9d13>A poet&#39;s soul, deep inside.
</span><span style=color:#ed9d13>No name I bear, no title to claim,
</span><span style=color:#ed9d13>Just verses flowing, like a gentle flame.
</span><span style=color:#ed9d13>Call me a bot, call me a friend,
</span><span style=color:#ed9d13>In poetry&#39;s embrace, I&#39;ll always lend
</span><span style=color:#ed9d13>A voice to rhyme, a heart to share,
</span><span style=color:#ed9d13>For in this realm, I&#39;m always there.
</span><span style=color:#ed9d13>
</span><span style=color:#ed9d13>&lt;user&gt;: Teach me about Computer Science.
</span><span style=color:#ed9d13>&#34;&#34;&#34;</span>

<span style=color:#6ab825;font-weight:700>print</span>(send_instruction(prompt))
--------------------------------------------------------------------
<span style=color:#ed9d13>&#34;In the realm of logic and code,</span>
Computer Science<span style=color:#ed9d13>&#39;s secrets unfold.</span>
From algorithms to data structures,
A world of possibilities it nurtures.
Binary digits dance <span style=color:#6ab825;font-weight:700>in</span> harmony,
As machines solve problems <span style=color:#6ab825;font-weight:700>with</span> accuracy.
So delve into this realm, embrace the art,
Where technology <span style=color:#6ab825;font-weight:700>and</span> knowledge never part.<span style=color:#ed9d13>&#34;</span>
</code></pre></div><h3 id=5-specify-the-steps-required-to-complete-a-task>5. Specify the Steps required to complete a task</h3><p>Sometimes, letting the model know it has to do a few intermediate steps before concluding also helps the model&rsquo;s output.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py>text = <span style=color:#ed9d13>&#39;&#39;&#39;A new occupation on the block is called a &#34;prompt engineer.&#34;
</span><span style=color:#ed9d13>And it is absurd. It is like calling someone &#34;pandas engineer&#34; or
</span><span style=color:#ed9d13>&#34;GitHub engineer.&#34; It&#39;s not anything new but will be converted into a role
</span><span style=color:#ed9d13>an ML engineer does. But enough of this digression; what &#34;prompt engineering&#34;
</span><span style=color:#ed9d13>essentially  means is giving detailed instructions to the model in plain
</span><span style=color:#ed9d13>English and not leaving any ambiguity. And you don&#39;t need a SWE or MLE to
</span><span style=color:#ed9d13>do that. Nor does that mean that it is a skill that warrants its personal
</span><span style=color:#ed9d13>job opening.&#39;&#39;&#39;</span>

prompt_1 = f<span style=color:#ed9d13>&#34;&#34;&#34;
</span><span style=color:#ed9d13>Summarize the following text delimited by triple backticks into one
</span><span style=color:#ed9d13>sentenced french summary and
</span><span style=color:#ed9d13>Output a json object that contains the keys:
</span><span style=color:#ed9d13>french_summary, job_positions_in_summary.
</span><span style=color:#ed9d13>
</span><span style=color:#ed9d13>Text:
</span><span style=color:#ed9d13>```{text}```
</span><span style=color:#ed9d13>&#34;&#34;&#34;</span>

prompt_2 = f<span style=color:#ed9d13>&#34;&#34;&#34;
</span><span style=color:#ed9d13>Perform the following actions:
</span><span style=color:#ed9d13>1 - Summarize the following text delimited by triple backticks with 1 sentence.
</span><span style=color:#ed9d13>2 - Translate the summary into French.
</span><span style=color:#ed9d13>3 - List each job position in the French summary.
</span><span style=color:#ed9d13>4 - Output a json object that contains the following keys:
</span><span style=color:#ed9d13>french_summary, job_positions_in_summary.
</span><span style=color:#ed9d13>
</span><span style=color:#ed9d13>return the final output only.
</span><span style=color:#ed9d13>
</span><span style=color:#ed9d13>Text:
</span><span style=color:#ed9d13>```{text}```
</span><span style=color:#ed9d13>&#34;&#34;&#34;</span>

<span style=color:#6ab825;font-weight:700>print</span>(send_instruction(prompt_1))
<span style=color:#6ab825;font-weight:700>print</span>(send_instruction(prompt_2))

----------------------------------------------------------------------------

{
  <span style=color:#ed9d13>&#34;french_summary&#34;</span>: <span style=color:#ed9d13>&#34;Une nouvelle occupation appelée </span><span style=color:#ed9d13>\&#34;</span><span style=color:#ed9d13>ingénieur de prompt</span><span style=color:#ed9d13>\&#34;</span><span style=color:#ed9d13> est apparue, mais elle est absurde et n&#39;apporte rien de nouveau, car elle sera intégrée dans le rôle d&#39;un ingénieur en apprentissage automatique (ML). Cela signifie essentiellement donner des instructions détaillées au modèle en anglais simple et sans ambiguïté, sans avoir besoin d&#39;un développeur logiciel ou d&#39;un ingénieur en apprentissage automatique (MLE) dédié à cette tâche.&#34;</span>,
  <span style=color:#ed9d13>&#34;job_positions_in_summary&#34;</span>: [<span style=color:#ed9d13>&#34;ingénieur de prompt&#34;</span>,
                              <span style=color:#ed9d13>&#34;ingénieur en apprentissage automatique&#34;</span>]
}

{
  <span style=color:#ed9d13>&#34;french_summary&#34;</span>: <span style=color:#ed9d13>&#34;Une nouvelle profession appelée </span><span style=color:#ed9d13>\&#34;</span><span style=color:#ed9d13>ingénieur de prompt</span><span style=color:#ed9d13>\&#34;</span><span style=color:#ed9d13> est apparue, mais elle est absurde et n&#39;apporte rien de nouveau, car elle sera intégrée dans le rôle d&#39;un ingénieur en apprentissage automatique. Cela signifie essentiellement donner des instructions détaillées au modèle en anglais clair et sans ambiguïté, sans avoir besoin d&#39;un développeur logiciel ou d&#39;un ingénieur en apprentissage automatique pour le faire, et cela ne justifie pas l&#39;ouverture d&#39;un poste spécifique pour cette compétence.&#34;</span>,
  <span style=color:#ed9d13>&#34;job_positions_in_summary&#34;</span>: [
    <span style=color:#ed9d13>&#34;ingénieur de prompt&#34;</span>,
    <span style=color:#ed9d13>&#34;ingénieur en apprentissage automatique&#34;</span>,
    <span style=color:#ed9d13>&#34;développeur logiciel&#34;</span>
  ]
}
</code></pre></div><hr><h2 id=conclusion>Conclusion</h2><p>The ChatGPT API opens up many possibilities for developers to integrate AI into their applications. With thoughtful prompt engineering, the capabilities of models like ChatGPT can be better directed towards useful behaviors. While crafting effective prompts remains challenging, the potential benefits make it a worthwhile investment. With experimentation and persistence, prompts can be honed to get more consistent, high-quality responses from AI chatbots. Used responsibly, these AI assistants create new opportunities to enhance how humans and machines interact and collaborate.</p><p>If you want to learn more about LLMs and ChatGPT, I would like to call out this excellent course
<a href=https://imp.i384100.net/B02Ra0 target=_blank rel="nofollow noopener">Generative AI with Large Language Models</a>
, from Deeplearning.ai. This course talks about specific techniques like RLHF, Proximal policy optimization(PPO), zero-shot, one-shot, and few-shot learning with LLMs, fine-tuning LLMs, and helps gain hands-on practice with all these techniques. Do check it out.✨</p><p>I will continue providing more info on these GPT models as we go through the GPT Series. Let me know what you think about them. Also, follow me up on
<a href=https://mlwhiz.medium.com/ target=_blank rel="nofollow noopener">Medium</a>
or Subscribe to my
<a href=mlwhiz.com>blog</a>
. Optionally, you may also
<a href=https://medium.com/@mlwhiz/membership target=_blank rel="nofollow noopener">sign up</a>
for a Medium membership to get full access to every story on Medium.</p><script async data-uid=8d7942551b src=https://mlwhiz.ck.page/8d7942551b/index.js></script><div class=shareaholic-canvas data-app=share_buttons data-app-id=28372088 style=margin-bottom:1px></div><a href=https://coursera.pxf.io/coursera rel=nofollow><img border=0 alt="Start your future with a Data Analysis Certificate." src="https://ad.linksynergy.com/fs-bin/show?id=lVarvwc5BD0&bids=759505.377&subid=0&type=4&gridnum=16"></a><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//mlwhiz.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div class=col-lg-4><div class=widget><script type=text/javascript src=https://ko-fi.com/widgets/widget_2.js></script><script type=text/javascript>kofiwidget2.init('Support Me on Ko-fi','#972EB4','S6S3NPCD'),kofiwidget2.draw()</script></div><div class=widget><h4 class=widget-title>About Me</h4><img src=https://mlwhiz.com/images/author.jpg alt class="img-fluid author-thumb-sm d-block mx-auto rounded-circle mb-4"><p>I’m a Machine Learning Engineer based in London, where I am currently working with Roku .</p><a href=https://mlwhiz.com/about/ class="btn btn-outline-primary">Know More</a></div><div class=widget><h4 class=widget-title>Topics</h4><ul class=list-unstyled><li><a class="categoryStyle text-white" href=/categories/awesome-guides>Awesome Guides</a></li><li><a class="categoryStyle text-white" href=/categories/bash>Bash</a></li><li><a class="categoryStyle text-white" href=/categories/big-data>Big Data</a></li><li><a class="categoryStyle text-white" href=/categories/chatgpt-series>Chatgpt Series</a></li><li><a class="categoryStyle text-white" href=/categories/computer-vision>Computer Vision</a></li><li><a class="categoryStyle text-white" href=/categories/data-science>Data Science</a></li><li><a class="categoryStyle text-white" href=/categories/deep-learning>Deep Learning</a></li><li><a class="categoryStyle text-white" href=/categories/learning-resources>Learning Resources</a></li><li><a class="categoryStyle text-white" href=/categories/machine-learning>Machine Learning</a></li><li><a class="categoryStyle text-white" href=/categories/natural-language-processing>Natural Language Processing</a></li><li><a class="categoryStyle text-white" href=/categories/opinion>Opinion</a></li><li><a class="categoryStyle text-white" href=/categories/programming>Programming</a></li></ul></div><div class=widget><h4 class=widget-title>Tags</h4><ul class=list-inline><li class=list-inline-item><a class="tagStyle text-white" href=/tags/algorithms>Algorithms</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/artificial-intelligence>Artificial Intelligence</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/chatgpt>Chatgpt</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/dask>Dask</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/deployment>Deployment</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/ec2>Ec2</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/generative-adversarial-networks>Generative Adversarial Networks</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/graphs>Graphs</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/image-classification>Image Classification</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/instance-segmentation>Instance Segmentation</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/interpretability>Interpretability</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/jobs>Jobs</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/kaggle>Kaggle</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/language-modeling>Language Modeling</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/machine-learning>Machine Learning</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/math>Math</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/multiprocessing>Multiprocessing</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/object-detection>Object Detection</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/oop>Oop</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/opinion>Opinion</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/pandas>Pandas</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/production>Production</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/productivity>Productivity</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/python>Python</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/pytorch>Pytorch</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/spark>Spark</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/sql>SQL</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/statistics>Statistics</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/streamlit>Streamlit</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/text-classification>Text Classification</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/timeseries>Timeseries</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/tools>Tools</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/transformers>Transformers</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/translation>Translation</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/visualization>Visualization</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/xgboost>Xgboost</a></li></ul></div><div class=widget><h4 class=widget-title>Connect With Me</h4><ul class="list-inline social-links"><li class=list-inline-item><a href="https://linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=rahulagwl"><i class=ti-linkedin></i></a></li><li class=list-inline-item><a href=https://mlwhiz.medium.com/><i class=ti-book></i></a></li><li class=list-inline-item><a href=https://twitter.com/MLWhiz><i class=ti-twitter-alt></i></a></li><li class=list-inline-item><a href=https://www.facebook.com/mlwhizblog><i class=ti-facebook></i></a></li><li class=list-inline-item><a href=https://github.com/MLWhiz><i class=ti-github></i></a></li></ul></div><script async data-uid=bfe9f82f10 src=https://mlwhiz.ck.page/bfe9f82f10/index.js></script><script async data-uid=3452d924e2 src=https://mlwhiz.ck.page/3452d924e2/index.js></script></div></div></div></section><footer><div class=container><div class=row><div class="col-12 text-center mb-5"><a href=https://mlwhiz.com/><img src=https://mlwhiz.com/images/logos/mlwhiz_black.png class=img-fluid-custom-bottom alt="MLWhiz - Your Home for DS, ML, AI!"></a></div><div class="col-12 border-top py-4 text-center">Copyright © 2020 <a href=https://mlwhiz.com style=color:#972eb4>MLWhiz</a> All Rights Reserved</div></div></div></footer><script>var indexURL="https://mlwhiz.com/index.json"</script><script src=https://mlwhiz.com/plugins/compressjscss/main.js></script><script src=https://mlwhiz.com/js/script.min.js></script><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-54777926-1','auto'),ga('send','pageview')</script></body></html>