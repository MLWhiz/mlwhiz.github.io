<!doctype html><html lang=en-us><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-F34XSWQ5N4"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-F34XSWQ5N4')</script><meta charset=utf-8><title>Deploying ML Apps using Python and Flask- Learning about Flask - MLWhiz</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="This post provides a way to create a Barebones flask app and deploy it using the free service from Openshift"><meta name=author content="Rahul Agarwal"><meta name=generator content="Hugo 0.82.0"><link rel=stylesheet href=https://mlwhiz.com/plugins/compressjscss/main.css><meta property="og:title" content="Deploying ML Apps using Python and Flask- Learning about Flask - MLWhiz"><meta property="og:description" content="This post provides a way to create a Barebones flask app and deploy it using the free service from Openshift"><meta property="og:type" content="article"><meta property="og:url" content="https://mlwhiz.com/blog/2016/01/10/deploying_ml_apps_using_python_flask/"><meta property="og:image" content="https://mlwhiz.com/images/category_bgs/default_bg.jpg"><meta property="og:image:secure_url" content="https://mlwhiz.com/images/category_bgs/default_bg.jpg"><meta property="article:published_time" content="2016-01-10T00:00:00+00:00"><meta property="article:modified_time" content="2023-07-08T22:38:19+01:00"><meta property="article:tag" content="Data Science"><meta name=twitter:card content="summary"><meta name=twitter:image content="https://mlwhiz.com/images/category_bgs/default_bg.jpg"><meta name=twitter:title content="Deploying ML Apps using Python and Flask- Learning about Flask - MLWhiz"><meta name=twitter:description content="This post provides a way to create a Barebones flask app and deploy it using the free service from Openshift"><meta name=twitter:site content="@mlwhiz"><meta name=twitter:creator content="@mlwhiz"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href=https://mlwhiz.com/scss/style.min.css media=screen><link rel=stylesheet href=/css/style.css><link rel=stylesheet type=text/css href=/css/font/flaticon.css><link rel="shortcut icon" href=https://mlwhiz.com/images/logos/favicon-32x32.png type=image/x-icon><link rel=icon href=https://mlwhiz.com/images/logos/favicon.ico type=image/x-icon><link rel=canonical href=https://mlwhiz.com/blog/2016/01/10/deploying_ml_apps_using_python_flask/><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://www.mlwhiz.com/#website","url":"https://www.mlwhiz.com/","name":"MLWhiz","description":"Want to Learn Computer Vision and NLP? - MLWhiz","potentialAction":{"@type":"SearchAction","target":"https://www.mlwhiz.com/search?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"ImageObject","@id":"https://mlwhiz.com/blog/2016/01/10/deploying_ml_apps_using_python_flask/#primaryimage","url":"https://mlwhiz.com/images/category_bgs/default_bg.jpg","width":700,"height":450},{"@type":"WebPage","@id":"https://mlwhiz.com/blog/2016/01/10/deploying_ml_apps_using_python_flask/#webpage","url":"https://mlwhiz.com/blog/2016/01/10/deploying_ml_apps_using_python_flask/","inLanguage":"en-US","name":"Deploying ML Apps using Python and Flask- Learning about Flask - MLWhiz","isPartOf":{"@id":"https://www.mlwhiz.com/#website"},"primaryImageOfPage":{"@id":"https://mlwhiz.com/blog/2016/01/10/deploying_ml_apps_using_python_flask/#primaryimage"},"datePublished":"2016-01-10T00:00:00.00Z","dateModified":"2023-07-08T22:38:19.00Z","author":{"@id":"https://mlwhiz.com/about/#/schema/person/76376876bchxkzbchjsdjcca"},"description":"This post provides a way to create a Barebones flask app and deploy it using the free service from Openshift"},{"@type":["Person"],"@id":"https://mlwhiz.com/about/#/schema/person/76376876bchxkzbchjsdjcca","name":"Rahul Agarwal","image":{"@type":"ImageObject","@id":"https://www.mlwhiz.com/#authorlogo","url":"https://mlwhiz.com/images/author.jpg","caption":"Rahul Agarwal"},"description":"Hi there, I\u2019m Rahul Agarwal. I\u2019m a data scientist consultant and big data engineer based in Bangalore. I see a lot of times  students and even professionals wasting their time and struggling to get started with Computer Vision, Deep Learning, and NLP. I Started this Site with a purpose to augment my own understanding about new things while helping others learn about them in the best possible way.","sameAs":["https://www.linkedin.com/in/rahulagwl/","https://medium.com/@rahul_agarwal","https://twitter.com/MLWhiz","https://www.facebook.com/mlwhizblog","https://github.com/MLWhiz","https://www.instagram.com/itsmlwhiz"]}]}</script><script async data-uid=a0ebaf958d src=https://mlwhiz.ck.page/a0ebaf958d/index.js></script><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$']],processEscapes:!0,processEnvironments:!0,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var b=MathJax.Hub.getAllJax(),a;for(a=0;a<b.length;a+=1)b[a].SourceElement().parentNode.className+=' has-jax'}),MathJax.Hub.Config({TeX:{equationNumbers:{autoNumber:"AMS"}}})</script><link href=//apps.shareaholic.com/assets/pub/shareaholic.js as=script><script type=text/javascript data-cfasync=false async src=//apps.shareaholic.com/assets/pub/shareaholic.js data-shr-siteid=fd1ffa7fd7152e4e20568fbe49a489d0></script><script>!function(b,e,f,g,a,c,d){if(b.fbq)return;a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version='2.0',a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js'),fbq('init','402633927768628'),fbq('track','PageView')</script><noscript><img height=1 width=1 style=display:none src="https://www.facebook.com/tr?id=402633927768628&ev=PageView&noscript=1"></noscript><meta property="fb:pages" content="213104036293742"><meta name=facebook-domain-verification content="qciidcy7mm137sewruizlvh8zbfnv4"></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMQD44T" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div class=preloader></div><header class=navigation><div class=container><nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0"><a class="navbar-brand mobile-view" href=https://mlwhiz.com/><img class=img-fluid src=https://mlwhiz.com/images/logos/logo.svg alt="Helping You Learn Data Science!"></a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class="ti-menu h3"></i></button><div class="collapse navbar-collapse text-center" id=navigation><div class=desktop-view><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=https://www.linkedin.com/in/rahulagwl/><i class=ti-linkedin></i></a></li><li class=nav-item><a class=nav-link href=https://mlwhiz.medium.com/><i class=ti-book></i></a></li><li class=nav-item><a class=nav-link href=https://twitter.com/MLWhiz><i class=ti-twitter-alt></i></a></li><li class=nav-item><a class=nav-link href=https://www.facebook.com/mlwhizblog><i class=ti-facebook></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/MLWhiz><i class=ti-github></i></a></li></ul></div><a class="navbar-brand mx-auto desktop-view" href=https://mlwhiz.com/><img class=img-fluid-custom src=https://mlwhiz.com/images/logos/logo.svg alt="Helping You Learn Data Science!"></a><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://mlwhiz.com/about>About</a></li><li class=nav-item><a class=nav-link href=https://mlwhiz.com/blog>Blog</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Topics</a><div class=dropdown-menu><a class=dropdown-item href=https://mlwhiz.com/categories/natural-language-processing>NLP</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/computer-vision>Computer Vision</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/deep-learning>Deep Learning</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/data-science>DS/ML</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/big-data>Big Data</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/awesome-guides>My Best Content</a>
<a class=dropdown-item href=https://mlwhiz.com/categories/learning-resources>Learning Resources</a></div></li></ul><div class="search pl-lg-4"><button id=searchOpen class=search-btn><i class=ti-search></i></button><div class=search-wrapper><form action=https://mlwhiz.com//search class=h-100><input class="search-box px-4" id=search-query name=s type=search placeholder="Type & Hit Enter..."></form><button id=searchClose class=search-close><i class="ti-close text-dark"></i></button></div></div></div></nav></div></header><section class=section-sm><div class=container><div class=row><div class="col-lg-8 mb-5 mb-lg-0"><a href=/categories/data-science class=categoryStyle>Data Science</a><h1>Deploying ML Apps using Python and Flask- Learning about Flask</h1><div class="mb-3 post-meta"><span>By Rahul Agarwal</span><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
<span>10 January 2016</span></div><img src=https://mlwhiz.com/images/category_bgs/default_bg.jpg class="img-fluid w-100 mb-4" alt="Deploying ML Apps using Python and Flask- Learning about Flask"><div class="content mb-5"><p>It has been a long time since I wrote anything on my blog. So thought about giving everyone a treat this time. Or so I think it is.</p><p>Recently I was thinking about a way to deploy all these machine learning models I create in python. I searched through the web but couldn&rsquo;t find anything nice and easy.
Then I fell upon
<a href=http://sebastianraschka.com/blog/2015/writing-pymle.html target=_blank rel="nofollow noopener">this book</a>
by Sebastian Rashcka and I knew that it was what I was looking for.
To tell you the truth I did had some experience in Flask earlier but this book made it a whole lot easier to deploy a machine learning model in flask.</p><p>So today I am going to give a brief intro about Flask Apps and how to deploy them using a service called Openshift.</p><h4 id=so-what-is-flask>So What is flask?</h4><p>Flask is a Python Web Framework that makes it easier to create webapps from python.</p><h4 id=and-openshift>And Openshift?</h4><p>Openshift is a free service(if we only use 1 small instance) which lets us use their services to deploy our flask web-apps.</p><p>So that we don&rsquo;t get lost, let me tell you the flow of this post.</p><ul><li>First of all we will learn about the <strong>installation</strong>* of Openshift and Flask.</li><li>We will create a <strong>Hello World</strong> application using Flask.</li><li>We will work on creating a very <strong>simple calculator App</strong> that operates on two numbers provided by the user. This will help us in understanding how user forms work with Flask by implementing a barebones app.</li></ul><h2 id=installation>Installation:</h2><ul><li>Create your
<a href=https://www.openshift.com/app/account/new target=_blank rel="nofollow noopener">FREE OpenShift account Here</a>
Very simple sign-up email + password only</li><li>Install the
<a href=https://www.openshift.com/developers/install-the-client-tools target=_blank rel="nofollow noopener">OpenShift Client Tools</a>
. Use these directions for your particular Operating System these tools have a command line interface and allow more control over your app. The OpenShift tool requires an installation of Ruby.</li></ul><p>Now once you do this you have installed Openshift Client tools on your system.</p><h2 id=helloworld>Helloworld</h2><p>So now I am going to do a lot of things in this post. But don&rsquo;t get bothered much it is just code and HTML quirks. I will try to provide enough details on which parts are necessary.
First of all, you will need to create a domain on Openshift platform. This can be done by using:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>rhc domain create -n DomainName -l EmailAddress -p password
</code></pre></div><p>For this example I created:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>rhc domain create -n mlwhiz -l MyEmailAddress -p Mypassword
</code></pre></div><p>In the free version for Openshift you can run 3 web-apps with a single domain.
For example I can create a maximum of 3 webapps whose web address would be:</p><ul><li>myappname1-mlwhiz.rhcloud.com</li><li>myappname2-mlwhiz.rhcloud.com</li><li>myappname3-mlwhiz.rhcloud.com</li></ul><p>Once we create a domain we need to create a webapp:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>rhc app create HelloWorld python-2.7
</code></pre></div><p>This creates the app named helloworld for us. The app currently resides at this address on web: <a href=http://helloworld-mlwhiz.rhcloud.com/>http://helloworld-mlwhiz.rhcloud.com/</a>
This command also creates a folder where our app resides. cd into this folder.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#24909d>cd</span> helloworld
</code></pre></div><p>Now get a basic template to work upon in this directory. You can think of this as a starter code for flask. We can do this by pulling and merging from Github using the following commands.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git remote add upstream -m master git://github.com/openshift/flask-example.git
git pull -s recursive -X theirs upstream master
</code></pre></div><p>Use Virtualenv to isolate Python development environments. It’s a tool that allows you setup an isolated, self-contained Python environment in a folder on your dev box. This way you can experiment with various versions of Python without affecting your system wide configurations:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>brew install python-virtualenv
<span style=color:#24909d>cd</span> helloworld/wsgi/
virtualenv venv --python=python2.7
<span style=color:#999;font-style:italic>#Activate the virtual environment</span>
. venv/bin/activate
<span style=color:#999;font-style:italic># Install all these into your virtual python environment.</span>
pip install flask flask-wtf flask-babel markdown flup
</code></pre></div><p>Now Change the name of flaskapp.py in wsgi to run.py</p><p>put this code in run.py</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>os</span>
<span style=color:#6ab825;font-weight:700>from</span> <span style=color:#447fcf;text-decoration:underline>flask</span> <span style=color:#6ab825;font-weight:700>import</span> Flask
app = Flask(__name__)
<span style=color:orange>@app.route</span>(<span style=color:#ed9d13>&#39;/&#39;</span>)
<span style=color:#6ab825;font-weight:700>def</span> <span style=color:#447fcf>home</span>():
    <span style=color:#ed9d13>&#34;&#34;&#34;Render website&#39;s home page.&#34;&#34;&#34;</span>
    <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#ed9d13>&#39;Hello World!&#39;</span>
<span style=color:#6ab825;font-weight:700>if</span> __name__ == <span style=color:#ed9d13>&#39;__main__&#39;</span>:
    app.run(debug=<span style=color:#ed9d13>&#34;True&#34;</span>)
</code></pre></div><p>Also change the file named application to:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#999;font-style:italic>#!/usr/bin/python</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>os</span>
<span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>sys</span>
sys.path.insert(<span style=color:#3677a9>0</span>, os.path.dirname(__file__) <span style=color:#6ab825;font-weight:700>or</span> <span style=color:#ed9d13>&#39;.&#39;</span>)
PY_DIR = os.path.join(os.environ[<span style=color:#ed9d13>&#39;OPENSHIFT_HOMEDIR&#39;</span>], <span style=color:#ed9d13>&#34;python&#34;</span>)
virtenv = PY_DIR + <span style=color:#ed9d13>&#39;/virtenv/&#39;</span>
PY_CACHE = os.path.join(virtenv, <span style=color:#ed9d13>&#39;lib&#39;</span>, os.environ[<span style=color:#ed9d13>&#39;OPENSHIFT_PYTHON_VERSION&#39;</span>], <span style=color:#ed9d13>&#39;site-packages&#39;</span>)
os.environ[<span style=color:#ed9d13>&#39;PYTHON_EGG_CACHE&#39;</span>] = os.path.join(PY_CACHE)
virtualenv = os.path.join(virtenv, <span style=color:#ed9d13>&#39;bin/activate_this.py&#39;</span>)
<span style=color:#6ab825;font-weight:700>try</span>:
    <span style=color:#6ab825;font-weight:700>exec</span>(<span style=color:#24909d>open</span>(virtualenv).read(), <span style=color:#24909d>dict</span>(__file__=virtualenv))
<span style=color:#6ab825;font-weight:700>except</span> <span style=color:#bbb>IOError</span>:
    <span style=color:#6ab825;font-weight:700>pass</span>
<span style=color:#6ab825;font-weight:700>from</span> <span style=color:#447fcf;text-decoration:underline>run</span> <span style=color:#6ab825;font-weight:700>import</span> app <span style=color:#6ab825;font-weight:700>as</span> application
</code></pre></div><p>Run this to host your app:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#24909d>cd</span> helloworld/wsgi
python run.py
</code></pre></div><script src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=c4ca54df-6d53-4362-92c0-13cb9977639e"></script><p>You should be able to see your app on: http://127.0.0.1:5000/
You can deploy this webapp to Openshift using:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#24909d>cd</span> helloworld
git add .
git commit -a -m <span style=color:#ed9d13>&#34;Initial deployment of this app to the web&#34;</span>
git push
</code></pre></div><p>Open <a href=http://helloworld-mlwhiz.rhcloud.com/>http://helloworld-mlwhiz.rhcloud.com/</a> in your browser. You would see Hello World! there. Now we have got a very basic structure complete.</p><h2 id=our-simple-calculator-app>Our Simple Calculator App:</h2><p>We will now work on creating a app that operates on two numbers provided by the user. The functions possible are +,- and *.
You can see this web app in action
<a href=http://helloworld-mlwhiz.rhcloud.com/ target=_blank rel="nofollow noopener">here</a>
before moving on.
This app will help us in understanding how user forms work with Flask and how to manage user inputs in Flask.
First of all change the code in run.py to</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=color:#6ab825;font-weight:700>import</span> <span style=color:#447fcf;text-decoration:underline>os</span>
<span style=color:#6ab825;font-weight:700>from</span> <span style=color:#447fcf;text-decoration:underline>flask</span> <span style=color:#6ab825;font-weight:700>import</span> Flask,render_template, request
<span style=color:#6ab825;font-weight:700>from</span> <span style=color:#447fcf;text-decoration:underline>wtforms</span> <span style=color:#6ab825;font-weight:700>import</span> Form, TextAreaField, validators,SelectField

app = Flask(__name__)

<span style=color:#999;font-style:italic># Code to create a WTForm with three fields. 2 text fields and 1 dropdown menu.</span>
<span style=color:#6ab825;font-weight:700>class</span> <span style=color:#447fcf;text-decoration:underline>OutputForm</span>(Form):
	myChoices=[(<span style=color:#ed9d13>&#39;+&#39;</span>, <span style=color:#ed9d13>&#39;+&#39;</span>), (<span style=color:#ed9d13>&#39;-&#39;</span>, <span style=color:#ed9d13>&#39;-&#39;</span>), (<span style=color:#ed9d13>&#39;*&#39;</span>, <span style=color:#ed9d13>&#39;*&#39;</span>)]
	num1 = TextAreaField(<span style=color:#ed9d13>&#39;&#39;</span>,[validators.DataRequired()])
	num2 = TextAreaField(<span style=color:#ed9d13>&#39;&#39;</span>,[validators.DataRequired()])
	Operator = SelectField(<span style=color:#ed9d13>u</span><span style=color:#ed9d13>&#39;&#39;</span>, choices = myChoices, validators = [validators.DataRequired()])

<span style=color:#999;font-style:italic># This uses the render_template method in flask to use a template first_app.html.</span>
<span style=color:#999;font-style:italic># This html contains placeholders for the form that is provided in the kwargs argument to the function call.</span>
<span style=color:orange>@app.route</span>(<span style=color:#ed9d13>&#39;/&#39;</span>)
<span style=color:#6ab825;font-weight:700>def</span> <span style=color:#447fcf>index</span>():
	<span style=color:#999;font-style:italic>#return &#39;Hello World!&#39;</span>
	form = OutputForm(request.form)
	<span style=color:#6ab825;font-weight:700>return</span> render_template(<span style=color:#ed9d13>&#39;first_app.html&#39;</span>,form = form)

<span style=color:#999;font-style:italic># This is the output that is displayed. It checks if the form is validated and POST request is made.</span>
<span style=color:#999;font-style:italic># If true it renders the output.html else renders the main index page.</span>
<span style=color:#999;font-style:italic># Most of the work is done here. Gets the user inputs using the request.form method.</span>
<span style=color:orange>@app.route</span>(<span style=color:#ed9d13>&#39;/output&#39;</span>, methods=[<span style=color:#ed9d13>&#39;POST&#39;</span>])
<span style=color:#6ab825;font-weight:700>def</span> <span style=color:#447fcf>output</span>():
	form = OutputForm(request.form)
	<span style=color:#6ab825;font-weight:700>if</span> request.method == <span style=color:#ed9d13>&#39;POST&#39;</span> <span style=color:#6ab825;font-weight:700>and</span> form.validate():
		num1 = request.form[<span style=color:#ed9d13>&#39;num1&#39;</span>]
		num2 = request.form[<span style=color:#ed9d13>&#39;num2&#39;</span>]
		op = request.form[<span style=color:#ed9d13>&#39;Operator&#39;</span>]
		<span style=color:#6ab825;font-weight:700>if</span> op==<span style=color:#ed9d13>&#34;+&#34;</span>:
			name=<span style=color:#24909d>str</span>(<span style=color:#24909d>int</span>(num1)+<span style=color:#24909d>int</span>(num2))
		<span style=color:#6ab825;font-weight:700>elif</span> op==<span style=color:#ed9d13>&#34;-&#34;</span>:
			name=<span style=color:#24909d>str</span>(<span style=color:#24909d>int</span>(num1)-<span style=color:#24909d>int</span>(num2))
		<span style=color:#6ab825;font-weight:700>elif</span> op==<span style=color:#ed9d13>&#34;*&#34;</span>:
			name=<span style=color:#24909d>str</span>(<span style=color:#24909d>int</span>(num1)*<span style=color:#24909d>int</span>(num2))
		<span style=color:#6ab825;font-weight:700>return</span> render_template(<span style=color:#ed9d13>&#39;output.html&#39;</span>, name=name)
	<span style=color:#6ab825;font-weight:700>return</span> render_template(<span style=color:#ed9d13>&#39;first_app.html&#39;</span>, form=form)

<span style=color:#6ab825;font-weight:700>if</span> __name__ == <span style=color:#ed9d13>&#39;__main__&#39;</span>:
    app.run(debug=<span style=color:#ed9d13>&#34;True&#34;</span>)
</code></pre></div><p>We use WTF forms here to create a form object. We pass this form object to the HTML render_template method. We have accessed these again in the output function so that we can show them in output.html where all the major work is done for creating the app.</p><p>Now Create a folder named template in helloworld/wsgi and create a file named _formhelpers.html with this content. You really don&rsquo;t need to see the content in this file.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>{% macro render_field(field) %}
	&lt;<span style=color:#6ab825;font-weight:700>dt</span>&gt;{{ field.label }}
	&lt;<span style=color:#6ab825;font-weight:700>dd</span>&gt;{{ field(**kwargs)|safe }}
	{% if field.errors %}
		&lt;<span style=color:#6ab825;font-weight:700>ul</span> <span style=color:#bbb>class</span>=<span style=color:#ed9d13>errors</span>&gt;
		{% for error in field.errors %}
			&lt;<span style=color:#6ab825;font-weight:700>li</span>&gt;{{ error }}&lt;/<span style=color:#6ab825;font-weight:700>li</span>&gt;
		{% endfor %}
		&lt;/<span style=color:#6ab825;font-weight:700>ul</span>&gt;
	{% endif %}
	&lt;/<span style=color:#6ab825;font-weight:700>dd</span>&gt;
{% endmacro %}
</code></pre></div><p>Also add another file named first_app.html with this content. Notice how we access the wtform here.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#cd2828;font-weight:700>&lt;!doctype html&gt;</span>
&lt;<span style=color:#6ab825;font-weight:700>html</span>&gt;
&lt;<span style=color:#6ab825;font-weight:700>head</span>&gt;
&lt;<span style=color:#6ab825;font-weight:700>title</span>&gt;First app&lt;/<span style=color:#6ab825;font-weight:700>title</span>&gt;
&lt;<span style=color:#6ab825;font-weight:700>link</span> <span style=color:#bbb>rel</span>=<span style=color:#ed9d13>&#34;stylesheet&#34;</span> <span style=color:#bbb>href</span>=<span style=color:#ed9d13>&#34;{{ url_for(&#39;static&#39;,filename=&#39;style.css&#39;) }}&#34;</span>&gt;
&lt;/<span style=color:#6ab825;font-weight:700>head</span>&gt;
&lt;<span style=color:#6ab825;font-weight:700>body</span>&gt;
	{% from &#34;_formhelpers.html&#34; import render_field %}
	&lt;<span style=color:#6ab825;font-weight:700>div</span>&gt;Calculator: Please enter two numbers and a function you want to apply&lt;/<span style=color:#6ab825;font-weight:700>div</span>&gt;
	&lt;<span style=color:#6ab825;font-weight:700>form</span> <span style=color:#bbb>method</span>=<span style=color:#ed9d13>post</span> <span style=color:#bbb>action</span>=<span style=color:#ed9d13>&#34;/output&#34;</span>&gt;
	{{ render_field(form.num1) }}{{ render_field(form.Operator) }}{{ render_field(form.num2) }}
		&lt;<span style=color:#6ab825;font-weight:700>input</span> <span style=color:#bbb>type</span>=<span style=color:#ed9d13>submit</span> <span style=color:#bbb>value</span>=<span style=color:#ed9d13>&#39;Result&#39;</span> <span style=color:#bbb>name</span>=<span style=color:#ed9d13>&#39;submit_btn&#39;</span>&gt;
	&lt;/<span style=color:#6ab825;font-weight:700>form</span>&gt;
&lt;/<span style=color:#6ab825;font-weight:700>body</span>&gt;
&lt;/<span style=color:#6ab825;font-weight:700>html</span>&gt;
</code></pre></div><p>Create a file named output.html where the final output will be shown.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#cd2828;font-weight:700>&lt;!doctype html&gt;</span>
&lt;<span style=color:#6ab825;font-weight:700>html</span>&gt;
&lt;<span style=color:#6ab825;font-weight:700>head</span>&gt;
&lt;<span style=color:#6ab825;font-weight:700>title</span>&gt;First app&lt;/<span style=color:#6ab825;font-weight:700>title</span>&gt;
&lt;<span style=color:#6ab825;font-weight:700>link</span> <span style=color:#bbb>rel</span>=<span style=color:#ed9d13>&#34;stylesheet&#34;</span> <span style=color:#bbb>href</span>=<span style=color:#ed9d13>&#34;{{ url_for(&#39;static&#39;,filename=&#39;style.css&#39;) }}&#34;</span>&gt;
&lt;/<span style=color:#6ab825;font-weight:700>head</span>&gt;
	&lt;<span style=color:#6ab825;font-weight:700>body</span>&gt;
		&lt;<span style=color:#6ab825;font-weight:700>div</span>&gt;The output is: {{ name }}&lt;/<span style=color:#6ab825;font-weight:700>div</span>&gt;
	&lt;/<span style=color:#6ab825;font-weight:700>body</span>&gt;
&lt;/<span style=color:#6ab825;font-weight:700>html</span>&gt;
</code></pre></div><p>Also add a style.css file in the static folder. You can put this in it for right now or any other thing you want.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>h1 {
    color: blue;
    font-family: verdana;
    font-size: 300%;
}
p  {
    color: red;
    font-family: courier;
    font-size: 160%;
}
</code></pre></div><p>And we are mostly done. Run run.py in the wsgi directory and you would be able to access the app at : http://127.0.0.1:5000/.
Again deploy this webapp to Openshift using:</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#24909d>cd</span> helloworld
git add .
git commit -a -m <span style=color:#ed9d13>&#34;Initial deployment of this app to the web&#34;</span>
git push
</code></pre></div><h2 id=endnotes>Endnotes</h2><p>So here we took inputs from the user and show the output using the flask App. The final app is hosted at <a href=http://helloworld-mlwhiz.rhcloud.com/>http://helloworld-mlwhiz.rhcloud.com/</a> for you to see.
This code provides us with a code skeletn which will be valuable when we will deploy a whole ML model, which is the main motive of this series.</p><h2 id=references>References</h2><ol><li>Most of the code here is taken from this awesome book by Sebastian Raschka: <a rel=nofollow href="http://www.amazon.com/gp/product/1783555130/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1783555130&linkCode=as2&tag=mlwhizcon-20&linkId=QOKIQ2S5LIQI7L2N">Python Machine Learning</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mlwhizcon-20&l=as2&o=1&a=1783555130" width=1 height=1 border=0 alt style=border:none!important;margin:0!important></li><li><a href=https://blog.openshift.com/beginners-guide-to-writing-flask-apps-on-openshift/>https://blog.openshift.com/beginners-guide-to-writing-flask-apps-on-openshift/</a></li></ol><script async data-uid=8d7942551b src=https://mlwhiz.ck.page/8d7942551b/index.js></script><div class=shareaholic-canvas data-app=share_buttons data-app-id=28372088 style=margin-bottom:1px></div><a href=https://coursera.pxf.io/coursera rel=nofollow><img border=0 alt="Start your future with a Data Analysis Certificate." src="https://ad.linksynergy.com/fs-bin/show?id=lVarvwc5BD0&bids=759505.377&subid=0&type=4&gridnum=16"></a><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//mlwhiz.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div class=col-lg-4><div class=widget><script type=text/javascript src=https://ko-fi.com/widgets/widget_2.js></script><script type=text/javascript>kofiwidget2.init('Support Me on Ko-fi','#972EB4','S6S3NPCD'),kofiwidget2.draw()</script></div><div class=widget><h4 class=widget-title>About Me</h4><img src=https://mlwhiz.com/images/author.jpg alt class="img-fluid author-thumb-sm d-block mx-auto rounded-circle mb-4"><p>I’m a Machine Learning Engineer based in London, where I am currently working with Roku .</p><a href=https://mlwhiz.com/about/ class="btn btn-outline-primary">Know More</a></div><div class=widget><h4 class=widget-title>Topics</h4><ul class=list-unstyled><li><a class="categoryStyle text-white" href=/categories/awesome-guides>Awesome Guides</a></li><li><a class="categoryStyle text-white" href=/categories/bash>Bash</a></li><li><a class="categoryStyle text-white" href=/categories/big-data>Big Data</a></li><li><a class="categoryStyle text-white" href=/categories/chatgpt-series>Chatgpt Series</a></li><li><a class="categoryStyle text-white" href=/categories/computer-vision>Computer Vision</a></li><li><a class="categoryStyle text-white" href=/categories/data-science>Data Science</a></li><li><a class="categoryStyle text-white" href=/categories/deep-learning>Deep Learning</a></li><li><a class="categoryStyle text-white" href=/categories/learning-resources>Learning Resources</a></li><li><a class="categoryStyle text-white" href=/categories/machine-learning>Machine Learning</a></li><li><a class="categoryStyle text-white" href=/categories/natural-language-processing>Natural Language Processing</a></li><li><a class="categoryStyle text-white" href=/categories/opinion>Opinion</a></li><li><a class="categoryStyle text-white" href=/categories/programming>Programming</a></li></ul></div><div class=widget><h4 class=widget-title>Tags</h4><ul class=list-inline><li class=list-inline-item><a class="tagStyle text-white" href=/tags/algorithms>Algorithms</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/artificial-intelligence>Artificial Intelligence</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/chatgpt>Chatgpt</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/dask>Dask</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/deployment>Deployment</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/ec2>Ec2</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/generative-adversarial-networks>Generative Adversarial Networks</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/graphs>Graphs</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/image-classification>Image Classification</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/instance-segmentation>Instance Segmentation</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/interpretability>Interpretability</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/jobs>Jobs</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/kaggle>Kaggle</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/language-modeling>Language Modeling</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/machine-learning>Machine Learning</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/math>Math</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/multiprocessing>Multiprocessing</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/object-detection>Object Detection</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/oop>Oop</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/opinion>Opinion</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/pandas>Pandas</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/production>Production</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/productivity>Productivity</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/python>Python</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/pytorch>Pytorch</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/spark>Spark</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/sql>SQL</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/statistics>Statistics</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/streamlit>Streamlit</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/text-classification>Text Classification</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/timeseries>Timeseries</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/tools>Tools</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/transformers>Transformers</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/translation>Translation</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/visualization>Visualization</a></li><li class=list-inline-item><a class="tagStyle text-white" href=/tags/xgboost>Xgboost</a></li></ul></div><div class=widget><h4 class=widget-title>Connect With Me</h4><ul class="list-inline social-links"><li class=list-inline-item><a href=https://www.linkedin.com/in/rahulagwl/><i class=ti-linkedin></i></a></li><li class=list-inline-item><a href=https://mlwhiz.medium.com/><i class=ti-book></i></a></li><li class=list-inline-item><a href=https://twitter.com/MLWhiz><i class=ti-twitter-alt></i></a></li><li class=list-inline-item><a href=https://www.facebook.com/mlwhizblog><i class=ti-facebook></i></a></li><li class=list-inline-item><a href=https://github.com/MLWhiz><i class=ti-github></i></a></li></ul></div><script async data-uid=bfe9f82f10 src=https://mlwhiz.ck.page/bfe9f82f10/index.js></script><script async data-uid=3452d924e2 src=https://mlwhiz.ck.page/3452d924e2/index.js></script></div></div></div></section><footer><div class=container><div class=row><div class="col-12 text-center mb-5"><a href=https://mlwhiz.com/><img src=https://mlwhiz.com/images/logos/mlwhiz_black.png class=img-fluid-custom-bottom alt="Helping You Learn Data Science!"></a></div><div class="col-12 border-top py-4 text-center">Copyright © 2020 <a href=https://mlwhiz.com style=color:#972eb4>MLWhiz</a> All Rights Reserved</div></div></div></footer><script>var indexURL="https://mlwhiz.com/index.json"</script><script src=https://mlwhiz.com/plugins/compressjscss/main.js></script><script src=https://mlwhiz.com/js/script.min.js></script><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-54777926-1','auto'),ga('send','pageview')</script></body></html>