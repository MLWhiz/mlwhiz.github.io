<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Data Scientists, The 5 Graph Algorithms that you should know</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="In this post, I am going to be talking about some of the most important graph algorithms you should know and how to implement them using Python.">
	

	
	<link rel='preload' href='//apps.shareaholic.com/assets/pub/shareaholic.js' as='script' />
	<script type="text/javascript" data-cfasync="false" async src="//apps.shareaholic.com/assets/pub/shareaholic.js" data-shr-siteid="fd1ffa7fd7152e4e20568fbe49a489d0"></script>
	
	
	<meta name="generator" content="Hugo 0.53" />
	<meta property="og:title" content="Data Scientists, The 5 Graph Algorithms that you should know" />
<meta property="og:description" content="In this post, I am going to be talking about some of the most important graph algorithms you should know and how to implement them using Python." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mlwhiz.com/blog/2019/09/02/graph_algs/" />
<meta property="og:image" content="https://mlwhiz.com/images/graphs/1.png" />
<meta property="article:published_time" content="2019-09-02T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2019-09-02T00:00:00&#43;00:00"/>

	<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://mlwhiz.com/images/graphs/1.png"/>

<meta name="twitter:title" content="Data Scientists, The 5 Graph Algorithms that you should know"/>
<meta name="twitter:description" content="In this post, I am going to be talking about some of the most important graph algorithms you should know and how to implement them using Python."/>


	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	
	
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-54777926-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-NMQD44T');</script>
	

	
	<script>
	  !function(f,b,e,v,n,t,s)
	  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
	  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
	  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
	  n.queue=[];t=b.createElement(e);t.async=!0;
	  t.src=v;s=b.getElementsByTagName(e)[0];
	  s.parentNode.insertBefore(t,s)}(window, document,'script',
	  'https://connect.facebook.net/en_US/fbevents.js');
	  fbq('init', '1062344757288542');
	  fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none"
	  src="https://www.facebook.com/tr?id=1062344757288542&ev=PageView&noscript=1"
	/></noscript>
	


	
  	<script async>(function(s,u,m,o,j,v){j=u.createElement(m);v=u.getElementsByTagName(m)[0];j.async=1;j.src=o;j.dataset.sumoSiteId='22863fd8ad7ebbfab9b8ca60b7db8f65e9a15559f384f785f66903e365aa8f48';v.parentNode.insertBefore(j,v)})(window,document,'script','//load.sumo.com/');</script>
  	<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>
</head>
<body class="body">
	  
	  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMQD44T"
	  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	  
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">

			<a class="logo__link" href="/" title="MLWhiz" rel="home">

				<div class="logo__title">MLWhiz</div>
				<div class="logo__tagline">Deep Learning, Data Science and NLP Enthusiast</div>
			</a>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">Blog</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/archive">Archive</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">About Me</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/nlpseries/">NLP</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/atom.xml">RSS</a>
		</li>
	</ul>
</nav>

	</div>
</header>


		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Data Scientists, The 5 Graph Algorithms that you should know</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2019-09-02T00:00:00">September 02, 2019</time>
</div>
</div>
		</header>
		<div class="content post__content clearfix">
			

<p><img src="/images/graphs/1.png" alt="" /></p>

<p>We as data scientists have gotten quite comfortable with Pandas or SQL or any other relational database.</p>

<p>We are used to seeing our users in rows with their attributes as columns. But does the real world really behave like that?</p>

<p>In a connected world, users cannot be considered as independent entities. They have got certain relationships between each other and we would sometimes like to include such relationships while building our machine learning models.</p>

<p>Now while in a relational database, we cannot use such relations between different rows(users), in a graph database it is fairly trivial to do that.</p>

<p><strong><em>In this post, I am going to be talking about some of the most important graph algorithms you should know and how to implement them using Python.</em></strong></p>

<p>Also, here is a <a href="https://www.coursera.org/learn/big-data-graph-analytics?ranMID=40328&amp;ranEAID=lVarvwc5BD0&amp;ranSiteID=lVarvwc5BD0-uD3tAFL0mCUdzcfwDd6FTQ&amp;siteID=lVarvwc5BD0-uD3tAFL0mCUdzcfwDd6FTQ&amp;utm_content=2&amp;utm_medium=partners&amp;utm_source=linkshare&amp;utm_campaign=lVarvwc5BD0" rel="nofollow" target="_blank">Graph Analytics for Big Data course on Coursera by UCSanDiego</a> which I highly recommend to learn the basics of graph theory.</p>

<hr />

<h2 id="1-connected-components">1. Connected Components</h2>

<p><img src="/images/graphs/2.png" alt="" /></p>

<p>We all know how clustering works?</p>

<p><em>You can think of Connected Components in very layman’s terms as a sort of a hard clustering algorithm which finds clusters/islands in related/connected data.</em></p>

<p><em>As a concrete example:</em> <strong>Say you have data about roads joining any two cities in the world. And you need to find out all the continents in the world and which city they contain.</strong>*</p>

<p>How will you achieve that? Come on give some thought.</p>

<p>The connected components algorithm that we use to do this is based on a special case of <strong>BFS/DFS</strong>. I won’t talk much about how it works here, but we will see how to get the code up and running using <code>Networkx</code>.</p>

<h3 id="applications">Applications</h3>

<p>From a <strong>Retail Perspective</strong>: Let us say, we have a lot of customers using a lot of accounts. One way in which we can use the Connected components algorithm is to find out distinct families in our dataset.</p>

<p>We can assume edges(roads) between CustomerIDs based on same credit card usage, or same address or same mobile number, etc. Once we have those connections, we can then run the connected component algorithm on the same to create individual clusters to which we can then assign a family ID.</p>

<p>We can then use these family IDs to provide personalized recommendations based on family needs. We can also use this family ID to fuel our classification algorithms by creating grouped features based on family.</p>

<p>From a <strong>Finance Perspective</strong>: Another use case would be to capture fraud using these family IDs. If an account has done fraud in the past, it is highly probable that the connected accounts are also susceptible to fraud.</p>

<p>The possibilities are only limited by your own imagination.</p>

<h3 id="code">Code</h3>

<p>We will be using the <code>Networkx</code> module in Python for creating and analyzing our graphs.</p>

<p>Let us start with an example graph which we are using for our purpose. Contains cities and distance information between them.</p>

<p><img src="/images/graphs/3.png" alt="" /></p>

<p>We first start by creating a list of edges along with the distances which we will add as the weight of the edge:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">edgelist <span style="color:#f92672">=</span> [[<span style="color:#e6db74">&#39;Mannheim&#39;</span>, <span style="color:#e6db74">&#39;Frankfurt&#39;</span>, <span style="color:#ae81ff">85</span>], [<span style="color:#e6db74">&#39;Mannheim&#39;</span>, <span style="color:#e6db74">&#39;Karlsruhe&#39;</span>, <span style="color:#ae81ff">80</span>], [<span style="color:#e6db74">&#39;Erfurt&#39;</span>, <span style="color:#e6db74">&#39;Wurzburg&#39;</span>, <span style="color:#ae81ff">186</span>], [<span style="color:#e6db74">&#39;Munchen&#39;</span>, <span style="color:#e6db74">&#39;Numberg&#39;</span>, <span style="color:#ae81ff">167</span>], [<span style="color:#e6db74">&#39;Munchen&#39;</span>, <span style="color:#e6db74">&#39;Augsburg&#39;</span>, <span style="color:#ae81ff">84</span>], [<span style="color:#e6db74">&#39;Munchen&#39;</span>, <span style="color:#e6db74">&#39;Kassel&#39;</span>, <span style="color:#ae81ff">502</span>], [<span style="color:#e6db74">&#39;Numberg&#39;</span>, <span style="color:#e6db74">&#39;Stuttgart&#39;</span>, <span style="color:#ae81ff">183</span>], [<span style="color:#e6db74">&#39;Numberg&#39;</span>, <span style="color:#e6db74">&#39;Wurzburg&#39;</span>, <span style="color:#ae81ff">103</span>], [<span style="color:#e6db74">&#39;Numberg&#39;</span>, <span style="color:#e6db74">&#39;Munchen&#39;</span>, <span style="color:#ae81ff">167</span>], [<span style="color:#e6db74">&#39;Stuttgart&#39;</span>, <span style="color:#e6db74">&#39;Numberg&#39;</span>, <span style="color:#ae81ff">183</span>], [<span style="color:#e6db74">&#39;Augsburg&#39;</span>, <span style="color:#e6db74">&#39;Munchen&#39;</span>, <span style="color:#ae81ff">84</span>], [<span style="color:#e6db74">&#39;Augsburg&#39;</span>, <span style="color:#e6db74">&#39;Karlsruhe&#39;</span>, <span style="color:#ae81ff">250</span>], [<span style="color:#e6db74">&#39;Kassel&#39;</span>, <span style="color:#e6db74">&#39;Munchen&#39;</span>, <span style="color:#ae81ff">502</span>], [<span style="color:#e6db74">&#39;Kassel&#39;</span>, <span style="color:#e6db74">&#39;Frankfurt&#39;</span>, <span style="color:#ae81ff">173</span>], [<span style="color:#e6db74">&#39;Frankfurt&#39;</span>, <span style="color:#e6db74">&#39;Mannheim&#39;</span>, <span style="color:#ae81ff">85</span>], [<span style="color:#e6db74">&#39;Frankfurt&#39;</span>, <span style="color:#e6db74">&#39;Wurzburg&#39;</span>, <span style="color:#ae81ff">217</span>], [<span style="color:#e6db74">&#39;Frankfurt&#39;</span>, <span style="color:#e6db74">&#39;Kassel&#39;</span>, <span style="color:#ae81ff">173</span>], [<span style="color:#e6db74">&#39;Wurzburg&#39;</span>, <span style="color:#e6db74">&#39;Numberg&#39;</span>, <span style="color:#ae81ff">103</span>], [<span style="color:#e6db74">&#39;Wurzburg&#39;</span>, <span style="color:#e6db74">&#39;Erfurt&#39;</span>, <span style="color:#ae81ff">186</span>], [<span style="color:#e6db74">&#39;Wurzburg&#39;</span>, <span style="color:#e6db74">&#39;Frankfurt&#39;</span>, <span style="color:#ae81ff">217</span>], [<span style="color:#e6db74">&#39;Karlsruhe&#39;</span>, <span style="color:#e6db74">&#39;Mannheim&#39;</span>, <span style="color:#ae81ff">80</span>], [<span style="color:#e6db74">&#39;Karlsruhe&#39;</span>, <span style="color:#e6db74">&#39;Augsburg&#39;</span>, <span style="color:#ae81ff">250</span>],[<span style="color:#e6db74">&#34;Mumbai&#34;</span>, <span style="color:#e6db74">&#34;Delhi&#34;</span>,<span style="color:#ae81ff">400</span>],[<span style="color:#e6db74">&#34;Delhi&#34;</span>, <span style="color:#e6db74">&#34;Kolkata&#34;</span>,<span style="color:#ae81ff">500</span>],[<span style="color:#e6db74">&#34;Kolkata&#34;</span>, <span style="color:#e6db74">&#34;Bangalore&#34;</span>,<span style="color:#ae81ff">600</span>],[<span style="color:#e6db74">&#34;TX&#34;</span>, <span style="color:#e6db74">&#34;NY&#34;</span>,<span style="color:#ae81ff">1200</span>],[<span style="color:#e6db74">&#34;ALB&#34;</span>, <span style="color:#e6db74">&#34;NY&#34;</span>,<span style="color:#ae81ff">800</span>]]</code></pre></div>
<p>Let us create a graph using <code>Networkx</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">g <span style="color:#f92672">=</span> nx<span style="color:#f92672">.</span>Graph()
<span style="color:#66d9ef">for</span> edge <span style="color:#f92672">in</span> edgelist:
    g<span style="color:#f92672">.</span>add_edge(edge[<span style="color:#ae81ff">0</span>],edge[<span style="color:#ae81ff">1</span>], weight <span style="color:#f92672">=</span> edge[<span style="color:#ae81ff">2</span>])</code></pre></div>
<p>Now <strong><em>we want to find out distinct continents and their cities from this graph.</em></strong></p>

<p>We can now do this using the connected components algorithm as:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#66d9ef">for</span> i, x <span style="color:#f92672">in</span> enumerate(nx<span style="color:#f92672">.</span>connected_components(g)):
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;cc&#34;</span><span style="color:#f92672">+</span>str(i)<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;:&#34;</span>,x)</code></pre></div>
<pre><code>cc0: {'Frankfurt', 'Kassel', 'Munchen', 'Numberg', 'Erfurt', 'Stuttgart', 'Karlsruhe', 'Wurzburg', 'Mannheim', 'Augsburg'}
cc1: {'Kolkata', 'Bangalore', 'Mumbai', 'Delhi'}
cc2: {'ALB', 'NY', 'TX'}
</code></pre>

<p>As you can see we are able to find distinct components in our data. Just by using Edges and Vertices. This algorithm could be run on different data to satisfy any use case that I presented above.</p>

<hr />

<h2 id="2-shortest-path">2. Shortest Path</h2>

<p><img src="/images/graphs/4.jpg" alt="" /></p>

<p>Continuing with the above example only, we are given a graph with the cities of Germany and the respective distance between them.</p>

<p><strong>You want to find out how to go from Frankfurt (The starting node) to Munchen by covering the shortest distance</strong>.</p>

<p>The algorithm that we use for this problem is called <strong>Dijkstra</strong>. In Dijkstra’s own words:</p>

<blockquote>
<p>What is the shortest way to travel from <a href="https://en.wikipedia.org/wiki/Rotterdam" rel="nofollow" target="_blank">Rotterdam</a> to <a href="https://en.wikipedia.org/wiki/Groningen" rel="nofollow" target="_blank">Groningen</a>, in general: from given city to given city. <a href="https://en.wikipedia.org/wiki/Shortest_path_problem" rel="nofollow" target="_blank">It is the algorithm for the shortest path</a>, which I designed in about twenty minutes. One morning I was shopping in <a href="https://en.wikipedia.org/wiki/Amsterdam" rel="nofollow" target="_blank">Amsterdam</a> with my young fiancée, and tired, we sat down on the café terrace to drink a cup of coffee and I was just thinking about whether I could do this, and I then designed the algorithm for the shortest path. As I said, it was a twenty-minute invention. In fact, it was published in ’59, three years later. The publication is still readable, it is, in fact, quite nice. One of the reasons that it is so nice was that I designed it without pencil and paper. I learned later that one of the advantages of designing without pencil and paper is that you are almost forced to avoid all avoidable complexities. Eventually that algorithm became, to my great amazement, one of the cornerstones of my fame.
— Edsger Dijkstra, in an interview with Philip L. Frana, Communications of the ACM, 2001<a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm#cite_note-Dijkstra_Interview-3" rel="nofollow" target="_blank">[3]</a></p>
</blockquote>

<h3 id="applications-1">Applications</h3>

<ul>
<li><p>Variations of the Dijkstra algorithm is used extensively in Google Maps to find the shortest routes.</p></li>

<li><p>You are in a Walmart Store. You have different Aisles and distance between all the aisles. You want to provide the shortest pathway to the customer from Aisle A to Aisle D.</p></li>
</ul>

<p><img src="/images/graphs/5.png" alt="" /></p>

<ul>
<li>You have seen how LinkedIn shows up 1st-degree connections, 2nd-degree connections. What goes on behind the scenes?</li>
</ul>

<p><img src="/images/graphs/6.png" alt="" /></p>

<h3 id="code-1">Code</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#66d9ef">print</span>(nx<span style="color:#f92672">.</span>shortest_path(g, <span style="color:#e6db74">&#39;Stuttgart&#39;</span>,<span style="color:#e6db74">&#39;Frankfurt&#39;</span>,weight<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;weight&#39;</span>))
<span style="color:#66d9ef">print</span>(nx<span style="color:#f92672">.</span>shortest_path_length(g, <span style="color:#e6db74">&#39;Stuttgart&#39;</span>,<span style="color:#e6db74">&#39;Frankfurt&#39;</span>,weight<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;weight&#39;</span>))</code></pre></div>
<pre><code>['Stuttgart', 'Numberg', 'Wurzburg', 'Frankfurt']
503
</code></pre>

<p>You can also find Shortest paths between all pairs using:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> nx<span style="color:#f92672">.</span>all_pairs_dijkstra_path(g,weight<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;weight&#39;</span>):
    <span style="color:#66d9ef">print</span>(x)</code></pre></div>
<pre><code>('Mannheim', {'Mannheim': ['Mannheim'], 'Frankfurt': ['Mannheim', 'Frankfurt'], 'Karlsruhe': ['Mannheim', 'Karlsruhe'], 'Augsburg': ['Mannheim', 'Karlsruhe', 'Augsburg'], 'Kassel': ['Mannheim', 'Frankfurt', 'Kassel'], 'Wurzburg': ['Mannheim', 'Frankfurt', 'Wurzburg'], 'Munchen': ['Mannheim', 'Karlsruhe', 'Augsburg', 'Munchen'], 'Erfurt': ['Mannheim', 'Frankfurt', 'Wurzburg', 'Erfurt'], 'Numberg': ['Mannheim', 'Frankfurt', 'Wurzburg', 'Numberg'], 'Stuttgart': ['Mannheim', 'Frankfurt', 'Wurzburg', 'Numberg', 'Stuttgart']})

('Frankfurt', {'Frankfurt': ['Frankfurt'], 'Mannheim': ['Frankfurt', 'Mannheim'], 'Kassel': ['Frankfurt', 'Kassel'], 'Wurzburg': ['Frankfurt', 'Wurzburg'], 'Karlsruhe': ['Frankfurt', 'Mannheim', 'Karlsruhe'], 'Augsburg': ['Frankfurt', 'Mannheim', 'Karlsruhe', 'Augsburg'], 'Munchen': ['Frankfurt', 'Wurzburg', 'Numberg', 'Munchen'], 'Erfurt': ['Frankfurt', 'Wurzburg', 'Erfurt'], 'Numberg': ['Frankfurt', 'Wurzburg', 'Numberg'], 'Stuttgart': ['Frankfurt', 'Wurzburg', 'Numberg', 'Stuttgart']})

....
</code></pre>

<hr />

<h2 id="3-minimum-spanning-tree">3. Minimum Spanning Tree</h2>

<p><img src="/images/graphs/5.jpg" alt="" /></p>

<p>Now we have another problem. We work for a water pipe laying company or an internet fiber company. <strong><em>We need to connect all the cities in the graph we have using the minimum amount of wire/pipe.</em></strong> How do we do this?</p>

<p><img src="/images/graphs/6.jpg" alt="" /></p>

<h3 id="applications-2">Applications</h3>

<ul>
<li><p>Minimum spanning trees have direct applications in the design of networks, including computer networks, telecommunications networks, transportation networks, water supply networks, and electrical grids (which they were first invented for)</p></li>

<li><p>MST is used for approximating the traveling salesman problem</p></li>

<li><p>Clustering — First construct MST and then determine a threshold value for breaking some edges in the MST using Intercluster distances and Intracluster distances.</p></li>

<li><p>Image Segmentation — It was used for Image segmentation where we first construct an MST on a graph where pixels are nodes and distances between pixels are based on some similarity measure(color, intensity, etc.)</p></li>
</ul>

<h3 id="code-2">Code</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#75715e"># nx.minimum_spanning_tree(g) returns a instance of type graph</span>
nx<span style="color:#f92672">.</span>draw_networkx(nx<span style="color:#f92672">.</span>minimum_spanning_tree(g))</code></pre></div>
<p><img src="/images/graphs/7.png" alt="" /></p>

<p>As you can see the above is the wire we gotta lay.</p>

<hr />

<h2 id="4-pagerank">4. Pagerank</h2>

<p><img src="/images/graphs/8.jpg" alt="" /></p>

<p>This is the page sorting algorithm that powered google for a long time. It assigns scores to pages based on the number and quality of incoming and outgoing links.</p>

<h3 id="applications-3">Applications</h3>

<p>Pagerank can be used anywhere where we want to estimate node importance in any network.</p>

<ul>
<li><p>It has been used for finding the most influential papers using citations.</p></li>

<li><p>Has been used by Google to rank pages</p></li>

<li><p>It can be used to rank tweets- User and Tweets as nodes. Create Link between user if user A follows user B and Link between user and Tweets if user tweets/retweets a tweet.</p></li>

<li><p>Recommendation engines</p></li>
</ul>

<h3 id="code-3">Code</h3>

<p>For this exercise, we are going to be using Facebook data. We have a file of edges/links between facebook users. We first create the FB graph using:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#75715e"># reading the dataset</span>

fb <span style="color:#f92672">=</span> nx<span style="color:#f92672">.</span>read_edgelist(<span style="color:#e6db74">&#39;../input/facebook-combined.txt&#39;</span>, create_using <span style="color:#f92672">=</span> nx<span style="color:#f92672">.</span>Graph(), nodetype <span style="color:#f92672">=</span> int)</code></pre></div>
<p>This is how it looks:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">pos <span style="color:#f92672">=</span> nx<span style="color:#f92672">.</span>spring_layout(fb)

<span style="color:#f92672">import</span> warnings
warnings<span style="color:#f92672">.</span>filterwarnings(<span style="color:#e6db74">&#39;ignore&#39;</span>)

plt<span style="color:#f92672">.</span>style<span style="color:#f92672">.</span>use(<span style="color:#e6db74">&#39;fivethirtyeight&#39;</span>)
plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;figure.figsize&#39;</span>] <span style="color:#f92672">=</span> (<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">15</span>)
plt<span style="color:#f92672">.</span>axis(<span style="color:#e6db74">&#39;off&#39;</span>)
nx<span style="color:#f92672">.</span>draw_networkx(fb, pos, with_labels <span style="color:#f92672">=</span> False, node_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">35</span>)
plt<span style="color:#f92672">.</span>show()</code></pre></div>
<p><img src="/images/graphs/9.png" alt="" /></p>

<p>Now we want to find the users having high influence capability.</p>

<p>Intuitively, the Pagerank algorithm will give a higher score to a user who has a lot of friends who in turn have a lot of FB Friends.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">pageranks <span style="color:#f92672">=</span> nx<span style="color:#f92672">.</span>pagerank(fb)
<span style="color:#66d9ef">print</span>(pageranks)</code></pre></div>
<pre><code>{0: 0.006289602618466542,
 1: 0.00023590202311540972,
 2: 0.00020310565091694562,
 3: 0.00022552359869430617,
 4: 0.00023849264701222462,
........}
</code></pre>

<p>We can get the sorted PageRank or most influential users using:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">import</span> operator
sorted_pagerank <span style="color:#f92672">=</span> sorted(pagerank<span style="color:#f92672">.</span>items(), key<span style="color:#f92672">=</span>operator<span style="color:#f92672">.</span>itemgetter(<span style="color:#ae81ff">1</span>),reverse <span style="color:#f92672">=</span> True)
<span style="color:#66d9ef">print</span>(sorted_pagerank)</code></pre></div>
<pre><code>[(3437, 0.007614586844749603), (107, 0.006936420955866114), (1684, 0.0063671621383068295), (0, 0.006289602618466542), (1912, 0.0038769716008844974), (348, 0.0023480969727805783), (686, 0.0022193592598000193), (3980, 0.002170323579009993), (414, 0.0018002990470702262), (698, 0.0013171153138368807), (483, 0.0012974283300616082), (3830, 0.0011844348977671688), (376, 0.0009014073664792464), (2047, 0.000841029154597401), (56, 0.0008039024292749443), (25, 0.000800412660519768), (828, 0.0007886905420662135), (322, 0.0007867992190291396),......]
</code></pre>

<p>The above IDs are for the most influential users.</p>

<p>We can see the subgraph for the most influential user:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">first_degree_connected_nodes <span style="color:#f92672">=</span> list(fb<span style="color:#f92672">.</span>neighbors(<span style="color:#ae81ff">3437</span>))
second_degree_connected_nodes <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> first_degree_connected_nodes:
    second_degree_connected_nodes<span style="color:#f92672">+=</span>list(fb<span style="color:#f92672">.</span>neighbors(x))
second_degree_connected_nodes<span style="color:#f92672">.</span>remove(<span style="color:#ae81ff">3437</span>)
second_degree_connected_nodes <span style="color:#f92672">=</span> list(set(second_degree_connected_nodes))

subgraph_3437 <span style="color:#f92672">=</span> nx<span style="color:#f92672">.</span>subgraph(fb,first_degree_connected_nodes<span style="color:#f92672">+</span>second_degree_connected_nodes)

pos <span style="color:#f92672">=</span> nx<span style="color:#f92672">.</span>spring_layout(subgraph_3437)

node_color <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;yellow&#39;</span> <span style="color:#66d9ef">if</span> v <span style="color:#f92672">==</span> <span style="color:#ae81ff">3437</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;red&#39;</span> <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> subgraph_3437]
node_size <span style="color:#f92672">=</span>  [<span style="color:#ae81ff">1000</span> <span style="color:#66d9ef">if</span> v <span style="color:#f92672">==</span> <span style="color:#ae81ff">3437</span> <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">35</span> <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> subgraph_3437]
plt<span style="color:#f92672">.</span>style<span style="color:#f92672">.</span>use(<span style="color:#e6db74">&#39;fivethirtyeight&#39;</span>)
plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;figure.figsize&#39;</span>] <span style="color:#f92672">=</span> (<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">15</span>)
plt<span style="color:#f92672">.</span>axis(<span style="color:#e6db74">&#39;off&#39;</span>)

nx<span style="color:#f92672">.</span>draw_networkx(subgraph_3437, pos, with_labels <span style="color:#f92672">=</span> False, node_color<span style="color:#f92672">=</span>node_color,node_size<span style="color:#f92672">=</span>node_size )
plt<span style="color:#f92672">.</span>show()</code></pre></div>
<p><img src="/images/graphs/12.png" alt="" /></p>

<hr />

<h2 id="5-centrality-measures">5. <strong>Centrality Measures</strong></h2>

<p>There are a lot of centrality measures which you can use as features to your machine learning models. I will talk about two of them. You can look at other measures <a href="https://networkx.github.io/documentation/networkx-1.10/reference/algorithms.centrality.html#current-flow-closeness" rel="nofollow" target="_blank">here</a>.</p>

<p><strong>Betweenness Centrality:</strong> It is not only the users who have the most friends that are important, the users who connect one geography to another are also important as that lets users see content from diverse geographies. <strong><em>Betweenness centrality quantifies how many times a particular node comes in the shortest chosen path between two other nodes.</em></strong></p>

<p><strong>Degree Centrality:</strong> It is simply the number of connections for a node.</p>

<h3 id="applications-4">Applications</h3>

<p>Centrality measures can be used as a feature in any machine learning model.</p>

<h3 id="code-4">Code</h3>

<p>Here is the code for finding the Betweenness centrality for the subgraph.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">pos <span style="color:#f92672">=</span> nx<span style="color:#f92672">.</span>spring_layout(subgraph_3437)
betweennessCentrality <span style="color:#f92672">=</span> <span style="color:#f92672">**</span>nx<span style="color:#f92672">.</span>betweenness_centrality(<span style="color:#f92672">**</span>subgraph_3437<span style="color:#f92672">**</span>,normalized<span style="color:#f92672">=</span>True, endpoints<span style="color:#f92672">=</span>True)<span style="color:#f92672">**</span>

node_size <span style="color:#f92672">=</span>  [v <span style="color:#f92672">*</span> <span style="color:#ae81ff">10000</span> <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> betweennessCentrality<span style="color:#f92672">.</span>values()]
plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">20</span>))
nx<span style="color:#f92672">.</span>draw_networkx(subgraph_3437, pos<span style="color:#f92672">=</span>pos, with_labels<span style="color:#f92672">=</span>False,
                 node_size<span style="color:#f92672">=</span>node_size )
plt<span style="color:#f92672">.</span>axis(<span style="color:#e6db74">&#39;off&#39;</span>)</code></pre></div>
<p><img src="/images/graphs/13.png" alt="" /></p>

<p>You can see the nodes sized by their betweenness centrality values here. They can be thought of as information passers. Breaking any of the nodes with a high betweenness Centrality will break the graph into many parts.</p>

<hr />

<h2 id="conclusion">Conclusion</h2>

<p><strong><em>In this post, I talked about some of the most influential graph algorithms that have changed the way we live.</em></strong></p>

<p>With the advent of so much social data, network analysis could help a lot in improving our models and generating value.</p>

<p><strong><em>And even understanding a little more about the world.</em></strong></p>

<p>There are a lot of graph algorithms out there, but these are the ones I like the most. Do look into the algorithms in more detail if you like. In this post, I just wanted to get the required breadth into the area.</p>

<p>Let me know if you feel I have left your favorite algorithm in the comments.</p>

<p>Here is the <a href="https://www.kaggle.com/mlwhiz/top-graph-algorithms" rel="nofollow" target="_blank">Kaggle Kernel</a> with the whole code.</p>

<p>If you want to read up more on Graph Algorithms here is a <a href="https://www.coursera.org/learn/big-data-graph-analytics?ranMID=40328&amp;ranEAID=lVarvwc5BD0&amp;ranSiteID=lVarvwc5BD0-uD3tAFL0mCUdzcfwDd6FTQ&amp;siteID=lVarvwc5BD0-uD3tAFL0mCUdzcfwDd6FTQ&amp;utm_content=2&amp;utm_medium=partners&amp;utm_source=linkshare&amp;utm_campaign=lVarvwc5BD0" rel="nofollow" target="_blank">Graph Analytics for Big Data course on Coursera by UCSanDiego</a> which I highly recommend to learn the basics of graph theory.</p>

<p>Thanks for the read. I am going to be writing more beginner-friendly posts in the future too. Follow me up at <a href="https://medium.com/@rahul_agarwal?source=post_page---------------------------" rel="nofollow" target="_blank"><strong>Medium</strong></a> or Subscribe to my <a href="http://eepurl.com/dbQnuX?source=post_page---------------------------" rel="nofollow" target="_blank"><strong>blog</strong></a> to be informed about them. As always, I welcome feedback and constructive criticism and can be reached on Twitter <a href="https://twitter.com/MLWhiz?source=post_page---------------------------" rel="nofollow" target="_blank">@mlwhiz</a>.</p>

		</div>
		
<div class="post__tags tags clearfix">
	<svg class="icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/python/" rel="tag">Python</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/graphs/" rel="tag">Graphs</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/data-science/" rel="tag">Data Science</a></li>
	</ul>
</div>
		

<div class="shareaholic-canvas" data-app="share_buttons" data-app-id="28372088"></div>
<a href="https://click.linksynergy.com/fs-bin/click?id=lVarvwc5BD0&offerid=467035.415&subid=0&type=4"><IMG border="0"   alt="Deep Learning Specialization on Coursera" src="https://ad.linksynergy.com/fs-bin/show?id=lVarvwc5BD0&bids=467035.415&subid=0&type=4&gridnum=16"></a>


	</article>
</main>


<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/blog/2019/09/01/regex/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">The Ultimate Guide to using the Python regex module</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/blog/2019/09/23/generative_approach_to_classification/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">A Generative Approach to Classification</p></a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "mlwhiz" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			<aside class="sidebar">
	     
  <div style="text-align:center">    
  <a href='https://ko-fi.com/S6S3NPCD' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi4.png?v=0' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>
  </div>
  <br><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<label>
			<input class="widget-search__field" type="search" placeholder="SEARCH..." value="" name="q" aria-label="SEARCH...">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://mlwhiz.com/" />
	</form>
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/blog/2019/09/26/building_ml_system/">6 Important Steps to build  a Machine Learning System</a></li>
			<li class="widget__item"><a class="widget__link" href="/blog/2019/09/23/generative_approach_to_classification/">A Generative Approach to Classification</a></li>
			<li class="widget__item"><a class="widget__link" href="/blog/2019/09/02/graph_algs/">Data Scientists, The 5 Graph Algorithms that you should know</a></li>
			<li class="widget__item"><a class="widget__link" href="/blog/2019/09/01/regex/">The Ultimate Guide to using the Python regex module</a></li>
			<li class="widget__item"><a class="widget__link" href="/blog/2019/08/12/resources/">How did I learn Data Science?</a></li>
			<li class="widget__item"><a class="widget__link" href="/blog/2019/08/07/feature_selection/">The 5 Feature Selection Algorithms every Data Scientist should know</a></li>
			<li class="widget__item"><a class="widget__link" href="/blog/2019/07/30/sampling/">The 5 Sampling Algorithms every Data Scientist need to know</a></li>
			<li class="widget__item"><a class="widget__link" href="/blog/2019/07/21/bandits/">Bayesian Bandits explained simply</a></li>
			<li class="widget__item"><a class="widget__link" href="/blog/2019/07/20/pandas_subset/">Minimal Pandas Subset for Data Scientists</a></li>
			<li class="widget__item"><a class="widget__link" href="/blog/2019/07/07/spark_hitchhiker/">The Hitchhikers guide to handle Big Data using Spark</a></li>
		</ul>
	</div>
</div>


<div class="shareaholic-canvas" data-app="follow_buttons" data-app-id="28033293" style="white-space: inherit;"></div>


<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">


<style type="text/css">
  #mc_embed_signup .button {background-color: #127edc;}
  #mc_embed_signup form .center{
    display: block;
    position: relative;
    text-align: center;
    padding: 10px -5px 10px 3%;}
   
</style>
<div id="mc_embed_signup">
<form action="//mlwhiz.us15.list-manage.com/subscribe/post?u=4e9962f4ce4a94818bcc2f249&amp;id=87a48fafdd" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_4e9962f4ce4a94818bcc2f249_87a48fafdd" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy;  2014-2019 Rahul Agarwal.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>



	</div>
<script src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=93f2f4f9-cf51-415d-84af-08cbb74b178f"></script>
<script async defer src="/js/menu.js"></script></body>
</html>